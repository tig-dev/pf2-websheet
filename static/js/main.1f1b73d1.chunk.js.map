{"version":3,"sources":["components/character/character-portrait.tsx","components/character/char-tabs/character-info.tsx","components/common/components/weapon-prof.tsx","components/common/types.tsx","components/common/defaults.tsx","components/common/utils.tsx","components/character/char-tabs/character-details.tsx","components/character/char-tabs/character-story.tsx","components/character/form-tabs/form-info.tsx","components/character/form-tabs/form-details.tsx","components/character/form-tabs/form-story.tsx","components/character/character-form.tsx","components/character/character.tsx","components/combat/combat.tsx","components/feats/feats.tsx","components/inventory/inventory.tsx","components/notes/notes-general.tsx","components/notes/notes-other.tsx","components/notes/notes.tsx","components/references/references.tsx","components/skills/skills.tsx","components/spells/spells.tsx","components/common/components/char-header.tsx","components/app/buttons/new-button.tsx","components/app/buttons/load-button.tsx","components/app/buttons/save-button.tsx","components/app/main-reducer.tsx","components/app/app.tsx","tests/serviceWorker.js","index.js"],"names":["CharacterPortrait","state","dispatch","editing","useState","imageUrl","setImageURL","loading","setLoading","portrait","character","info","outerReader","FileReader","onloadend","result","useEffect","type","payload","handlePortraitPreview","file","a","src","url","isNil","Promise","resolve","reader","originFileObj","readAsDataURL","image","Image","imgWindow","window","open","document","write","outerHTML","className","rotate","name","listType","showUploadList","multiple","onPreview","beforeUpload","title","alt","LoadingOutlined","UploadOutlined","CharacterInfo","ancestry","heritage","background","charClass","class","deity","age","gender","pronouns","height","weight","personality","bordered","column","layout","label","span","innerHeight","size","attitude","beliefs","likes","dislikes","WeaponProf","proficinecyBonuses","abilities","proficiency","disable","setProf","training","styleProps","display","flexDirection","alignItems","justifyContent","marginRight","maxWidth","width","fontSize","style","paddingBottom","startCase","Group","value","disabled","baseSkill","ability","misc_bonus","armor_penalty","baseNote","id","text","mainStateDefault","default","catchphrases","details","traits","alignment","level","exp","hero_points","languages","weapon_training","strength","constitution","dexterity","intelligence","wisdom","charisma","story","feats","general","skill","bonus","skills","cloneDeep","DEX","INT","STR","CHA","WIS","combat","hp","current","max","temp","armor","ac_bonus","check_penalty","dex_cap","group","speed_penalty","class_dc","perception","item_bonus","senses","saves","fortitude","itemBonus","miscBonus","reflex","will","speed","base","types","attacks","melee","ranged","spells","cantrip_level","spell_training","casting_ability","slots","unused","inventory","bulk","encumbered","coin","copper","silver","gold","platinum","worn","readied","other","containers","notes","getAbilityMod","mod","Math","floor","saveLocalChar","localStorage","JSON","stringify","success","getSessionChar","parse","sessionStorage","getDefaultChar","returnChar","forEach","keys","char","setAndGetDefaultChar","newState","setDefaultChar","CharacterDetails","str","dex","con","int","wis","cha","getMod","map","prof","key","CharacterStory","CharacterFormInfo","Item","rules","required","message","placeholder","Option","CharacterFormDetails","popVisible","setPopVisible","weaponSelect","useCallback","defaultValue","addWeaponProf","newChar","newProf","toLowerCase","uniqBy","assignIn","weaponButton","useMemo","length","icon","PlusOutlined","visible","content","Search","onSearch","borderRadius","enterButton","CheckOutlined","onClick","weaponProficiencies","min","TextArea","CharacterFormStory","form","autoSize","minRows","maxRows","TabPane","CharacterForm","flatterChar","omit","initialValues","wrapperCol","offset","colon","defaultActiveKey","tab","Character","useForm","setEditing","extra","CloseOutlined","marginLeft","getFieldsValue","trainingLevels","filter","startsWith","weapProf","exploded","words","push","omitBy","protrait","EditFilled","Combat","Feats","Inventory","GeneralNotes","debouncedUpdate","debounce","newText","newGeneralNote","isNull","flush","onChange","e","persist","target","OtherNotes","addOther","newOtherNotes","newNote","debouncedUpdateTitle","updateIndex","findIndex","updatedNote","debouncedUpdateText","toggleEditing","note","onPressEnter","without","removeOther","Notes","References","Skills","Spells","CharHeader","confirm","NewButton","isEqual","ExclamationCircleOutlined","okText","onOk","LoadButton","loadVisible","setLoadVisible","toLoadName","setToLoadName","makeDefault","setMakeDefault","loadChar","error","closable","onCancel","checked","SaveButton","MainReducer","action","newCharacter","newNotes","saveSessionChar","Header","Content","Sider","Footer","App","currContent","changeCurrContent","collapsed","setCollapsed","useReducer","includes","checkForSessionChar","found","checkForDefault","mainContent","collapsible","onCollapse","process","theme","mode","onSelect","item","defaultSelectedKeys","UserOutlined","TagsOutlined","BarsOutlined","AlertOutlined","FireOutlined","ShoppingOutlined","BookOutlined","FileSearchOutlined","href","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.1f1b73d1.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Upload, Tooltip } from \"antd\";\nimport { LoadingOutlined, UploadOutlined } from \"@ant-design/icons\";\nimport ImgCrop from \"antd-img-crop\";\nimport { isNil } from \"lodash\";\n\nimport { WithReducerProps } from \"../common/interfaces\";\nimport { UploadFile } from \"antd/lib/upload/interface\";\n\nconst emptyImageSrc =\n  \"data:image/png;base64,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\";\n\nexport interface CharacterPortraitProps extends WithReducerProps {\n  editing?: boolean;\n}\n\nconst CharacterPortrait = ( {\n  state,\n  dispatch,\n  editing = false,\n}: CharacterPortraitProps ) => {\n  const [imageUrl, setImageURL] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const portrait = state.character.info.portrait;\n\n  const outerReader = new FileReader();\n  outerReader.onloadend = () => {\n    if ( typeof outerReader.result === \"string\" ) {\n      setImageURL(outerReader.result);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if ( portrait && !imageUrl ) {\n      setImageURL(portrait);\n    }\n  }, [portrait, imageUrl, setImageURL]);\n\n  useEffect(() => {\n    if ( imageUrl && imageUrl !== portrait ) {\n      dispatch({\n        type: \"PORTRAIT\",\n        payload: imageUrl,\n      });\n    }\n  }, [imageUrl, dispatch, portrait]);\n\n  const handlePortraitPreview = async ( file: UploadFile<any> ) => {\n    let src = file.url;\n    if ( isNil(src) ) {\n      src = await new Promise(( resolve ) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          if ( typeof reader.result === \"string\" ) {\n            resolve(reader.result);\n          }\n        };\n\n        if ( !isNil(file.originFileObj) ) {\n          reader.readAsDataURL(file.originFileObj);\n        }\n      });\n    }\n\n    if ( src ) {\n      const image = new Image();\n      image.src = src;\n      const imgWindow = window.open(src);\n      imgWindow?.document.write(image.outerHTML);\n    }\n  };\n\n  if ( editing ) {\n    return (\n      <div className={\"character-portrait\"}>\n        <ImgCrop rotate={true}>\n          <Upload\n            name={\"portrait\"}\n            listType={\"picture-card\"}\n            className={\n              imageUrl ? \"portrait-uploader uploaded\" : \"portrait-uploader\"\n            }\n            showUploadList={false}\n            multiple={false}\n            onPreview={handlePortraitPreview}\n            beforeUpload={( file ) => {\n              outerReader.readAsDataURL(file);\n              return false;\n            }}\n          >\n            {imageUrl ? (\n              <Tooltip title={\"Replace image?\"}>\n                <img\n                  src={imageUrl}\n                  alt={`Portrait for ${state.character.info.name}`}\n                />\n              </Tooltip>\n            ) : (\n               <div className={\"portrait-prompt\"}>\n                 {loading ? <LoadingOutlined/> : <UploadOutlined/>}\n                 <div>Upload</div>\n               </div>\n             )}\n          </Upload>\n        </ImgCrop>\n      </div>\n    );\n  }\n  else if ( imageUrl ) {\n    return (\n      <div className={\"character-portrait\"}>\n        <img src={imageUrl} alt={`Portrait for ${state.character.info.name}`}/>\n      </div>\n    );\n  }\n  else {\n    return (\n      <div className={\"character-portrait\"}>\n        <img alt={\"Empty Portrait\"} src={emptyImageSrc}/>\n      </div>\n    );\n  }\n\n  // return (\n  //   <div className={\"character-portrait\"}>\n  //     <ImgCrop rotate={true}>\n  //       <Upload\n  //         name={\"portrait\"}\n  //         listType={\"picture-card\"}\n  //         className={\n  //           imageUrl ? \"portrait-uploader uploaded\" : \"portrait-uploader\"\n  //         }\n  //         showUploadList={false}\n  //         multiple={false}\n  //         onPreview={handlePortraitPreview}\n  //         beforeUpload={(file) => {\n  //           outerReader.readAsDataURL(file);\n  //           return false;\n  //         }}\n  //       >\n  //         {imageUrl ? (\n  //           <Tooltip title={\"Replace image?\"}>\n  //             <img\n  //               src={imageUrl}\n  //               alt={`Portrait for ${state.character.info.name}`}\n  //             />\n  //           </Tooltip>\n  //         ) : (\n  //           <div className={\"portrait-prompt\"}>\n  //             {loading ? <LoadingOutlined /> : <UploadOutlined />}\n  //             <div>Upload</div>\n  //           </div>\n  //         )}\n  //       </Upload>\n  //     </ImgCrop>\n  //   </div>\n  // );\n};\n\nexport default CharacterPortrait;\n","import React from \"react\";\nimport { Descriptions } from \"antd\";\nimport DescriptionsItem from \"antd/lib/descriptions/Item\";\n\nimport CharacterPortrait from \"../character-portrait\";\nimport { WithReducerProps } from \"../../common/interfaces\";\n\nexport interface CharacterInfoProps extends WithReducerProps {}\n\nfunction CharacterInfo({ state, dispatch }: CharacterInfoProps) {\n  const {\n    ancestry,\n    heritage,\n    background,\n    class: charClass,\n    deity,\n    age,\n    gender,\n    pronouns,\n    height,\n    weight,\n    personality,\n  } = state.character.info;\n\n  return (\n    <div className={\"char-tab-content\"}>\n      <div className={\"char-tab-top\"}>\n        <CharacterPortrait state={state} dispatch={dispatch} />\n        <Descriptions bordered={true} column={3} layout={\"vertical\"}>\n          <DescriptionsItem label={\"Ancestry\"}>{ancestry}</DescriptionsItem>\n          <DescriptionsItem label={\"Class\"}>{charClass}</DescriptionsItem>\n          <DescriptionsItem label={\"Gender\"}>{gender}</DescriptionsItem>\n          <DescriptionsItem label={\"Heritage\"}>{heritage}</DescriptionsItem>\n          <DescriptionsItem label={\"Background\"}>{background}</DescriptionsItem>\n          <DescriptionsItem label={\"Pronouns\"}>{pronouns}</DescriptionsItem>\n        </Descriptions>\n      </div>\n      <div className={\"char-tab-bottom\"}>\n        <Descriptions bordered={true} column={4} layout={\"vertical\"}>\n          <DescriptionsItem label={\"Deity\"}>{deity}</DescriptionsItem>\n          <DescriptionsItem label={\"Age\"}>{age}</DescriptionsItem>\n          <DescriptionsItem label={\"Height\"}>{height}</DescriptionsItem>\n          <DescriptionsItem label={\"Weight\"}>{weight}</DescriptionsItem>\n          <DescriptionsItem\n            label={\"Personality\"}\n            span={4}\n            className={\"desc-item-with-desc\"}\n          >\n            <Descriptions\n              bordered={true}\n              column={window.innerHeight > 800 ? 1 : 2}\n              size={\"small\"}\n            >\n              <DescriptionsItem label={\"Attitude\"}>\n                {personality.attitude}\n              </DescriptionsItem>\n              <DescriptionsItem label={\"Beliefs\"}>\n                {personality.beliefs}\n              </DescriptionsItem>\n              <DescriptionsItem label={\"Likes\"}>\n                {personality.likes}\n              </DescriptionsItem>\n              <DescriptionsItem label={\"Dislikes\"}>\n                {personality.dislikes}\n              </DescriptionsItem>\n            </Descriptions>\n          </DescriptionsItem>\n        </Descriptions>\n      </div>\n    </div>\n  );\n}\n\nexport default CharacterInfo;\n","import React, { CSSProperties } from \"react\";\nimport { startCase } from \"lodash\";\nimport { Radio } from \"antd\";\n\nimport { trainingType, proficiency as profLevel } from '../types';\n\nexport interface WeaponProfProps {\n  proficiency: trainingType;\n  disable?: boolean;\n  setProf?(prof: profLevel): void\n}\n\nfunction WeaponProf({ proficiency, disable=true, setProf }: WeaponProfProps) {\n  const { name, training } = proficiency;\n  const styleProps: CSSProperties = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: 0,\n    maxWidth: \"25px\",\n    width: \"25px\",\n    fontSize: \"10px\",\n  };\n\n  return (\n    <div\n      style={{\n        marginRight: \"20px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      <div style={{ paddingBottom: \"3px\", fontSize: \"16px\" }}>\n        {startCase(name)}\n      </div>\n      <Radio.Group\n        style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}\n        name={name}\n        value={training}\n        size={\"small\"}\n      >\n        <Radio style={styleProps} value={\"U\"} disabled={disable && training !== \"U\"}>\n          U\n        </Radio>\n        <Radio style={styleProps} value={\"T\"} disabled={disable && training !== \"T\"}>\n          T\n        </Radio>\n        <Radio style={styleProps} value={\"E\"} disabled={disable && training !== \"E\"}>\n          E\n        </Radio>\n        <Radio style={styleProps} value={\"M\"} disabled={disable && training !== \"M\"}>\n          M\n        </Radio>\n        <Radio style={styleProps} value={\"L\"} disabled={disable && training !== \"L\"}>\n          L\n        </Radio>\n      </Radio.Group>\n    </div>\n  );\n}\n\nexport default WeaponProf;\n","import { mainReducerActionType } from \"../app/main-reducer\";\n\nexport type proficiency = \"U\" | \"T\" | \"E\" | \"M\" | \"L\";\nexport enum proficinecyBonuses {\n  \"U\" = 0,\n  \"T\" = 2,\n  \"E\" = 4,\n  \"M\" = 6,\n  \"L\" = 8\n}\nexport type ability = \"STR\" | \"CON\" | \"DEX\" | \"INT\" | \"WIS\" | \"CHA\";\nexport type spellLevel = \"cantrip\" | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10;\nexport type featCategory =\n  | \"general\"\n  | \"skill\"\n  | \"ancestry\"\n  | \"heritage\"\n  | \"class\"\n  | \"bonus\";\nexport type dieType = { count: number; sides: number };\nexport type costType = { count: number; coin: \"cp\" | \"sp\" | \"gp\" | \"pp\" };\nexport type itemLocation = \"worn\" | \"readied\" | \"other\";\nexport type armorTypes = \"unarmored\" | \"light\" | \"medium\" | \"heavy\";\nexport type armorGroups = \"leather\" | \"composite\" | \"chain\" | \"plate\" | \"none\";\nexport type actionCategory =\n  | \"free\"\n  | \"reaction\"\n  | \"one-action\"\n  | \"two-action\"\n  | \"three-action\";\nexport type physicalDamageTypes =\n  | \"bludgeoning\"\n  | \"piercing\"\n  | \"slashing\"\n  | \"precision\";\nexport type magicDamageTypes =\n  | \"acid\"\n  | \"cold\"\n  | \"electricity\"\n  | \"fire\"\n  | \"sonic\"\n  | \"positive\"\n  | \"negative\"\n  | \"force\"\n  | \"good\"\n  | \"evil\"\n  | \"lawful\"\n  | \"chaotic\"\n  | \"mental\"\n  | \"poison\"\n  | \"bleed\";\n\nexport enum abilities {\n  STR = \"strength\",\n  CON = \"constitution\",\n  DEX = \"dexterity\",\n  INT = \"intelligence\",\n  WIS = \"wisdom\",\n  CHA = \"charisma\",\n}\n\nexport type dispatchActionType = {\n  type: mainReducerActionType;\n  payload?: any;\n};\n\nexport type dcType = {\n  ability: ability;\n  training: proficiency;\n  misc_bonus: number;\n};\n\nexport type actionType = {\n  name: string;\n  traits: string[];\n  description: string;\n  actions: actionCategory;\n};\n\nexport type skillType = {\n  name: string;\n  training: proficiency;\n  ability: abilities | null;\n  misc_bonus: number;\n  armor_penalty: boolean;\n};\n\nexport type featType = {\n  name: string;\n  type: featCategory | null;\n  level: number;\n  traits: string[];\n  description: string;\n};\n\nexport type spellType = actionType & {\n  level: spellLevel;\n  dice?: dieType[];\n  damage?: magicDamageTypes;\n};\n\nexport type spellSlotType = {\n  level: spellLevel;\n  max: number;\n  unused: number;\n};\n\nexport type noteType = {\n  id: number;\n  title: string;\n  text: string;\n};\n\nexport type itemType = {\n  name: string;\n  level: number;\n  quantity: number;\n  bulk: number | \"L\";\n  cost: costType;\n  description: string;\n  location: itemLocation;\n};\n\nexport type containerItemType = itemType & {\n  contains: itemType[];\n};\n\nexport type attackType = actionType & {\n  ability: ability;\n  atk_bonus: number;\n  atk_misc: number;\n  prof: proficiency;\n  dice: dieType;\n  damage: physicalDamageTypes;\n  dmg_bonus: number;\n  dmg_misc: number;\n  crit_effect: boolean;\n};\n\nexport type trainingType = {\n  name: string,\n  training: proficiency,\n}\n\nexport type characterInfoType = {\n  name: string;\n  portrait: string;\n  ancestry: string;\n  heritage: string;\n  class: string;\n  background: string;\n  deity: string;\n  age: number;\n  gender: string;\n  pronouns: string;\n  height: string;\n  weight: string;\n  personality: {\n    attitude: string;\n    beliefs: string;\n    likes: string;\n    dislikes: string;\n    catchphrases: string;\n  }\n}\n\nexport type characterDetailsType = {\n  traits: string;\n  alignment: \"LG\" | \"NG\" | \"CG\" | \"LN\" | \"N\" | \"CN\" | \"LE\" | \"NE\" | \"CE\";\n  size: \"small\" | \"medium\" | \"large\";\n  level: number;\n  exp: number;\n  hero_points: number;\n  languages: string;  \n  weapon_training: trainingType[];\n  abilities: {\n    strength: number;\n    constitution: number;\n    dexterity: number;\n    intelligence: number;\n    wisdom: number;\n    charisma: number;\n  };\n}\n\nexport type characterType = {\n  info: characterInfoType;\n  details: characterDetailsType;\n  story: string;\n};\n\nexport type featsList = {\n  class: featType[];\n  general: featType[];\n  skill: featType[];\n  ancestry: featType[];\n  heritage: featType[];\n  bonus: featType[];\n};\n\nexport type attacksListType = {\n  melee: attackType[];\n  ranged: attackType[];\n};\n\nexport type savingRollType = {\n  training: proficiency;\n  itemBonus: number;\n  miscBonus: number;\n};\n\nexport type hpType = {\n  max: number;\n  current: number;\n  temp: number;\n};\n\nexport type speedType = {\n  base: number;\n  types: string;\n  misc_bonus: number;\n};\n\nexport type perceptionType = dcType & {\n  item_bonus: number;\n  senses: string;\n};\n\nexport type saveSetType = {\n  fortitude: savingRollType;\n  reflex: savingRollType;\n  will: savingRollType;\n};\n\nexport type shieldType = {\n  bonus: number;\n  hardness: number;\n  max_hp: number;\n  hp: number;\n  bt: number;\n};\n\nexport type armorType = {\n  type: armorTypes;\n  group: armorGroups;\n  training: proficiency;\n  ac_bonus: number;\n  dex_cap: number | null;\n  misc_bonus: number;\n  check_penalty: number;\n  speed_penalty: number;\n  traits: string[];\n  shield?: shieldType;\n};\n\nexport type combatType = {\n  hp: hpType;\n  class_dc: dcType | null;\n  speed: speedType;\n  perception: perceptionType;\n  saves: saveSetType;\n  armor: armorType;\n  attacks: attacksListType;\n};\n\nexport type spellsListType = {\n  cantrip_level: number;\n  casting_ability: ability | null;\n  spell_training: proficiency;\n  slots: spellSlotType[];\n  spells: spellType[];\n};\n\nexport type inventoryType = {\n  bulk: {\n    current: number;\n    encumbered: number;\n    max: number;\n  };\n  coin: {\n    copper: number;\n    silver: number;\n    gold: number;\n    platinum: number;\n  };\n  worn: itemType[];\n  readied: itemType[];\n  other: itemType[];\n  containers: containerItemType[];\n};\n\nexport type notesListType = {\n  general: noteType;\n  other: noteType[];\n};\n\nexport type mainStateType = {\n  default: boolean;\n  character: characterType;\n  feats: featsList;\n  skills: skillType[];\n  combat: combatType;\n  spells: spellsListType;\n  inventory: inventoryType;\n  notes: notesListType;\n};\n","import { cloneDeep } from \"lodash\";\n\nimport {\n  skillType,\n  featType,\n  spellType,\n  noteType,\n  itemType,\n  attackType,\n  mainStateType,\n  abilities,\n  characterInfoType,\n  characterDetailsType,\n} from \"./types\";\n\nexport const baseSkill: skillType = {\n  name: \"\",\n  training: \"U\",\n  ability: null,\n  misc_bonus: 0,\n  armor_penalty: false,\n};\n\nexport const baseFeat: featType = {\n  name: \"\",\n  type: null,\n  level: 0,\n  traits: [],\n  description: \"\",\n};\n\nexport const baseSpell: spellType = {\n  name: \"\",\n  level: \"cantrip\",\n  traits: [],\n  description: \"\",\n  actions: \"one-action\",\n};\n\nexport const baseNote: noteType = {\n  id: 0,\n  title: \"\",\n  text: \"\",\n};\n\nexport const baseItem: itemType = {\n  name: \"\",\n  level: 0,\n  quantity: 1,\n  bulk: 0.0,\n  cost: {\n    count: 0,\n    coin: \"gp\",\n  },\n  description: \"\",\n  location: \"other\",\n};\n\nexport const baseAttack: attackType = {\n  name: \"\",\n  ability: \"STR\",\n  description: \"\",\n  actions: \"one-action\",\n  traits: [],\n  damage: \"slashing\",\n  atk_bonus: 0,\n  atk_misc: 0,\n  prof: \"U\",\n  dice: {\n    count: 1,\n    sides: 6,\n  },\n  dmg_bonus: 0,\n  dmg_misc: 0,\n  crit_effect: false,\n};\n\nexport const characterInfoDefault: characterInfoType = {\n  name: \"\",\n  portrait: \"\",\n  ancestry: \"Human\",\n  heritage: \"Human?\",\n  class: \"Commoner\",\n  background: \"Common\",\n  deity: \"Harvest\",\n  age: 18,\n  gender: \"None\",\n  pronouns: \"they/them\",\n  height: \"6 feet\",\n  weight: \"Prefer not to say\",\n  personality: {\n    attitude: \"Friendly\",\n    beliefs: \"Kindness\",\n    likes: \"Friends, pals, bros\",\n    dislikes: \"Foes, enemies, nemeses\",\n    catchphrases: \"Wheat!\",\n  }\n};\n\nexport const characterDetailsDefault: characterDetailsType = {\n  traits: \"\",\n  alignment: \"N\",\n  size: \"medium\",\n  level: 1,\n  exp: 0,\n  hero_points: 0,\n  languages: \"Common\",\n  weapon_training: [\n    {\n      name: \"simple\",\n      training: \"U\",\n    },\n    {\n      name: \"martial\",\n      training: \"U\",\n    },\n    {\n      name: \"unarmed\",\n      training: \"U\",\n    },\n  ],\n  abilities: {\n    strength: 10,\n    constitution: 10,\n    dexterity: 10,\n    intelligence: 10,\n    wisdom: 10,\n    charisma: 10,\n  },\n};\n\nexport const mainStateDefault: mainStateType = {\n  default: false,\n  character: {\n    info: characterInfoDefault,\n    details: characterDetailsDefault,\n    story: \"\"\n  },\n  feats: {\n    class: [],\n    general: [],\n    skill: [],\n    ancestry: [],\n    heritage: [],\n    bonus: [],\n  },\n  skills: [\n    {\n      ...cloneDeep(baseSkill),\n      name: \"acrobatics\",\n      ability: abilities.DEX,\n      armor_penalty: true,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"arcana\",\n      ability: abilities.INT,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"athletics\",\n      ability: abilities.STR,\n      armor_penalty: true,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"crafting\",\n      ability: abilities.INT,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"deception\",\n      ability: abilities.CHA,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"diplomacy\",\n      ability: abilities.CHA,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"intimidation\",\n      ability: abilities.CHA,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"medicine\",\n      ability: abilities.WIS,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"nature\",\n      ability: abilities.WIS,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"occultism\",\n      ability: abilities.INT,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"performance\",\n      ability: abilities.CHA,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"religion\",\n      ability: abilities.WIS,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"society\",\n      ability: abilities.INT,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"stealth\",\n      ability: abilities.DEX,\n      armor_penalty: true,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"survival\",\n      ability: abilities.WIS,\n    },\n    {\n      ...cloneDeep(baseSkill),\n      name: \"thievery\",\n      ability: abilities.DEX,\n      armor_penalty: true,\n    },\n  ],\n  combat: {\n    hp: {\n      current: 0,\n      max: 0,\n      temp: 0,\n    },\n    armor: {\n      ac_bonus: 0,\n      check_penalty: 0,\n      dex_cap: null,\n      group: \"none\",\n      misc_bonus: 0,\n      speed_penalty: 0,\n      training: \"U\",\n      traits: [],\n      type: \"unarmored\",\n    },\n    class_dc: null,\n    perception: {\n      ability: \"WIS\",\n      training: \"U\",\n      item_bonus: 0,\n      misc_bonus: 0,\n      senses: \"\",\n    },\n    saves: {\n      fortitude: {\n        training: \"U\",\n        itemBonus: 0,\n        miscBonus: 0,\n      },\n      reflex: {\n        training: \"U\",\n        itemBonus: 0,\n        miscBonus: 0,\n      },\n      will: {\n        training: \"U\",\n        itemBonus: 0,\n        miscBonus: 0,\n      },\n    },\n    speed: {\n      base: 25,\n      misc_bonus: 0,\n      types: \"\",\n    },\n    attacks: {\n      melee: [],\n      ranged: [],\n    },\n  },\n  spells: {\n    cantrip_level: 1,\n    spell_training: \"U\",\n    casting_ability: null,\n    slots: [\n      {\n        level: \"cantrip\",\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 1,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 2,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 3,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 4,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 5,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 6,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 7,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 8,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 9,\n        max: 0,\n        unused: 0,\n      },\n      {\n        level: 10,\n        max: 0,\n        unused: 0,\n      },\n    ],\n    spells: [],\n  },\n  inventory: {\n    bulk: {\n      current: 0.0,\n      encumbered: 5.0,\n      max: 8.0,\n    },\n    coin: {\n      copper: 0,\n      silver: 0,\n      gold: 15,\n      platinum: 0,\n    },\n    worn: [],\n    readied: [],\n    other: [],\n    containers: [],\n  },\n  notes: {\n    general: {\n      ...cloneDeep(baseNote),\n      title: \"General Notes\",\n      text: \"Here are your general notes!\",\n    },\n    other: [\n      {\n        ...cloneDeep(baseNote),\n        id: 1,\n        title: \"Allies\",\n        text: \"You can list your allies here!\",\n      },\n      {\n        ...cloneDeep(baseNote),\n        id: 2,\n        title: \"Enemies\",\n        text: \"Here is where you might keep track of your enemies!\",\n      },\n      {\n        ...cloneDeep(baseNote),\n        id: 3,\n        title: \"Organizations\",\n        text: \"Groups you're apart of can go here!\",\n      },\n    ],\n  },\n};\n","import { message } from \"antd\";\nimport { cloneDeep, forEach, keys, isNil } from \"lodash\";\n\nimport { mainStateDefault } from \"./defaults\";\nimport { mainStateType } from \"./types\";\n\nexport const getAbilityMod = (mod: number): string => {\n  const value = Math.floor(mod / 2) - 5;\n\n  if (value >= 0) {\n    return `+${value}`;\n  } else {\n    return `-${value}`;\n  }\n};\n\nexport const saveLocalChar = (state: mainStateType) => {\n  localStorage[state.character.info.name] = JSON.stringify(cloneDeep(state));\n  message.success(\"Saved character!\");\n};\n\nexport const saveSessionChar = (state: mainStateType) => {\n  sessionStorage[\"lastChar\"] = JSON.stringify(cloneDeep(state));\n};\n\nexport const checkForSessionChar = (): boolean => {\n  if(keys(sessionStorage).includes(\"lastChar\")) {\n    const lastChar = JSON.parse(sessionStorage[\"lastChar\"]);\n    if(lastChar.character.info.name) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nexport const getSessionChar = (): mainStateType => {\n  return JSON.parse(sessionStorage[\"lastChar\"]);\n};\n\nexport const checkForDefault = (): boolean => {\n  let found = false;\n  forEach(keys(localStorage), (char: string) => {\n    const character = JSON.parse(localStorage[char]);\n    if (character.default) {\n      found = true;\n      return false;\n    }\n  });\n  return found;\n};\n\nexport const checkIfDefault = (name: string): boolean => {\n  const character = JSON.parse(localStorage[name]);\n  return !!character.default;\n};\n\nexport const setDefaultChar = (state: mainStateType): mainStateType => {\n  const newState = cloneDeep(state);\n  newState.default = true;\n  saveLocalChar(newState);\n  return newState\n}\n\nexport const getDefaultChar = (): mainStateType => {\n  let returnChar: mainStateType | null = null;\n  forEach(keys(localStorage), (char: string) => {\n    let state = JSON.parse(localStorage[char]);\n    if (state.default) {\n      returnChar = cloneDeep(state);\n    }\n  });\n\n  return !isNil(returnChar) ? returnChar : mainStateDefault;\n};\n\nexport const setAndGetDefaultChar = (name: string): mainStateType => {\n  return setDefaultChar(JSON.parse(localStorage[name]));\n};\n","import React from \"react\";\nimport { map, startCase } from \"lodash\";\nimport { Descriptions } from \"antd\";\nimport DescriptionsItem from \"antd/lib/descriptions/Item\";\n\nimport CharacterPortrait from \"../character-portrait\";\nimport { WithReducerProps } from \"../../common/interfaces\";\nimport WeaponProf from \"../../common/components/weapon-prof\";\nimport { trainingType } from \"../../common/types\";\nimport { getAbilityMod as getMod } from \"../../common/utils\";\n\nexport interface CharacterDetailsProps extends WithReducerProps {}\n\nconst CharacterDetails = ({ state, dispatch }: CharacterDetailsProps) => {\n  const { class: charClass } = state.character.info;\n  const {\n    traits,\n    alignment,\n    size,\n    level,\n    exp,\n    hero_points,\n    languages,\n    abilities,\n    weapon_training,\n  } = state.character.details;\n  const {\n    strength: str,\n    dexterity: dex,\n    constitution: con,\n    intelligence: int,\n    wisdom: wis,\n    charisma: cha,\n  } = abilities;\n\n  return (\n    <div className={\"char-tab-content\"}>\n      <div className={\"char-tab-top\"}>\n        <CharacterPortrait state={state} dispatch={dispatch} />\n        <Descriptions bordered={true} column={3} layout={\"vertical\"}>\n          <DescriptionsItem label={\"Class\"}>{charClass}</DescriptionsItem>\n          <DescriptionsItem label={\"Level\"}>{level}</DescriptionsItem>\n          <DescriptionsItem label={\"Experience\"}>{exp}</DescriptionsItem>\n          <DescriptionsItem label={\"Hero Points\"}>\n            {hero_points}\n          </DescriptionsItem>\n          <DescriptionsItem label={\"Alignment\"}>{alignment}</DescriptionsItem>\n          <DescriptionsItem label={\"Size\"}>{startCase(size)}</DescriptionsItem>\n        </Descriptions>\n      </div>\n      <div className={\"char-tab-bottom\"}>\n        <Descriptions bordered={true} column={6} layout={\"vertical\"}>\n          <DescriptionsItem\n            label={\"Strength\"}\n            className={\"desc-item-with-desc\"}\n          >\n            <Descriptions\n              bordered={true}\n              column={2}\n              size={\"small\"}\n              layout={\"vertical\"}\n            >\n              <DescriptionsItem label={\"Score\"}>{str}</DescriptionsItem>\n              <DescriptionsItem label={\"Mod\"}>{getMod(str)}</DescriptionsItem>\n            </Descriptions>\n          </DescriptionsItem>\n          <DescriptionsItem\n            label={\"Intellect\"}\n            className={\"desc-item-with-desc\"}\n          >\n            <Descriptions\n              bordered={true}\n              column={2}\n              size={\"small\"}\n              layout={\"vertical\"}\n            >\n              <DescriptionsItem label={\"Score\"}>{int}</DescriptionsItem>\n              <DescriptionsItem label={\"Mod\"}>{getMod(int)}</DescriptionsItem>\n            </Descriptions>\n          </DescriptionsItem>\n          <DescriptionsItem\n            label={\"Dexterity\"}\n            className={\"desc-item-with-desc\"}\n          >\n            <Descriptions\n              bordered={true}\n              column={2}\n              size={\"small\"}\n              layout={\"vertical\"}\n            >\n              <DescriptionsItem label={\"Score\"}>{dex}</DescriptionsItem>\n              <DescriptionsItem label={\"Mod\"}>{getMod(dex)}</DescriptionsItem>\n            </Descriptions>\n          </DescriptionsItem>\n          <DescriptionsItem label={\"Wisdom\"} className={\"desc-item-with-desc\"}>\n            <Descriptions\n              bordered={true}\n              column={2}\n              size={\"small\"}\n              layout={\"vertical\"}\n            >\n              <DescriptionsItem label={\"Score\"}>{wis}</DescriptionsItem>\n              <DescriptionsItem label={\"Mod\"}>{getMod(wis)}</DescriptionsItem>\n            </Descriptions>\n          </DescriptionsItem>\n          <DescriptionsItem\n            label={\"Constitution\"}\n            className={\"desc-item-with-desc\"}\n          >\n            <Descriptions\n              bordered={true}\n              column={2}\n              size={\"small\"}\n              layout={\"vertical\"}\n            >\n              <DescriptionsItem label={\"Score\"}>{con}</DescriptionsItem>\n              <DescriptionsItem label={\"Mod\"}>{getMod(con)}</DescriptionsItem>\n            </Descriptions>\n          </DescriptionsItem>\n          <DescriptionsItem\n            label={\"Charisma\"}\n            className={\"desc-item-with-desc\"}\n          >\n            <Descriptions\n              bordered={true}\n              column={2}\n              size={\"small\"}\n              layout={\"vertical\"}\n            >\n              <DescriptionsItem label={\"Score\"}>{cha}</DescriptionsItem>\n              <DescriptionsItem label={\"Mod\"}>{getMod(cha)}</DescriptionsItem>\n            </Descriptions>\n          </DescriptionsItem>\n          <DescriptionsItem label={\"Traits\"} span={3}>\n            {traits}\n          </DescriptionsItem>\n          <DescriptionsItem label={\"Languages\"} span={3}>\n            {languages}\n          </DescriptionsItem>\n          <DescriptionsItem label={\"Weapon Proficiences\"} span={6}>\n            <div className={\"details-profs\"}>\n              {map(weapon_training, (prof: trainingType) => {\n                return (\n                  <WeaponProf proficiency={prof} key={`prof-${prof.name}`} />\n                );\n              })}\n            </div>\n          </DescriptionsItem>\n        </Descriptions>\n      </div>\n    </div>\n  );\n}\n\nexport default CharacterDetails;\n","import React from \"react\";\nimport { Descriptions } from \"antd\";\nimport DescriptionsItem from \"antd/lib/descriptions/Item\";\n\nimport { WithReducerProps } from \"../../common/interfaces\";\n\nexport interface CharacterStoryProps extends WithReducerProps {}\n\nconst CharacterStory = ({ state, dispatch }: CharacterStoryProps) => {\n  const name = state.character.info.name;\n  const story = state.character.story;\n\n  return (\n    <Descriptions\n      className={\"details-bottom\"}\n      column={1}\n      size={\"small\"}\n      bordered={true}\n      layout={\"vertical\"}\n    >\n      <DescriptionsItem label={\"Background, history, details, etc.\"}>\n        {story\n          ? story\n          : `Tell us a bit about ${name ? name : \"your character\"}?`}\n      </DescriptionsItem>\n    </Descriptions>\n  );\n}\n\nexport default CharacterStory;\n","import React from \"react\";\nimport { Form, Input } from \"antd\";\n\nconst CharacterFormInfo = () => {\n  return (\n    <div className={\"char-tab-content form-info\"}>\n      <Form.Item\n        key={\"form-name\"}\n        label={\"Name\"}\n        name={[\"info\", \"name\"]}\n        rules={[\n          {\n            required: true,\n            message: \"Character needs a name to save properly.\",\n          },\n        ]}\n      >\n        <Input placeholder={\"Please enter a name.\"}/>\n      </Form.Item>\n      <Form.Item\n        key={\"form-background\"}\n        label={\"Background\"}\n        name={[\"info\", \"background\"]}\n      >\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-height\"} label={\"Height\"} name={[\"info\", \"height\"]}>\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-weight\"} label={\"Weight\"} name={[\"info\", \"weight\"]}>\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-gender\"} label={\"Gender\"} name={[\"info\", \"gender\"]}>\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-pronouns\"} label={\"Pronouns\"} name={[\"info\", \"pronouns\"]}>\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-age\"} label={\"Age\"} name={[\"info\", \"age\"]}>\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-deity\"} label={\"Deity\"} name={[\"info\", \"deity\"]}>\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-ancestry\"} label={\"Ancestry\"} name={[\"info\", \"ancestry\"]}>\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-heritage\"} label={\"Heritage\"} name={[\"info\", \"heritage\"]}>\n        <Input/>\n      </Form.Item>\n      <Form.Item key={\"form-class\"} label={\"Class\"} name={[\"info\", \"class\"]}>\n        <Input/>\n      </Form.Item>\n      <Input.Group className={\"form-item-group\"}>\n        <span className={\"item-group-header\"}>Personality</span>\n        <Form.Item\n          key={\"form-attitude\"}\n          label={\"Attitude\"}\n          name={[\"info\", \"personality\", \"attitude\"]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-beliefs\"}\n          label={\"Beliefs\"}\n          name={[\"info\", \"personality\", \"beliefs\"]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-likes\"}\n          label={\"Likes\"}\n          name={[\"info\", \"personality\", \"likes\"]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-dislikes\"}\n          label={\"Dislikes\"}\n          name={[\"info\", \"personality\", \"dislikes\"]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-catchphrases\"}\n          label={\"Catchphrases\"}\n          name={[\"info\", \"personality\", \"catchphrases\"]}\n        >\n          <Input/>\n        </Form.Item>\n      </Input.Group>\n    </div> );\n};\n\nexport default CharacterFormInfo;\n","import React, { useCallback, useMemo, useState } from \"react\";\nimport { Button, Form, Input, InputNumber, Select, Popover, Tooltip } from \"antd\";\nimport { cloneDeep, map, startCase, uniqBy, assignIn } from \"lodash\";\nimport { PlusOutlined, CheckOutlined } from \"@ant-design/icons\";\n\nimport { CharacterFormTabProps } from \"../../common/interfaces\";\nimport { trainingType } from \"../../common/types\";\n\nconst { Option } = Select;\n\nconst CharacterFormDetails = ( { state, dispatch }: CharacterFormTabProps ) => {\n  const { character } = state;\n  const [popVisible, setPopVisible] = useState<boolean>(false);\n\n  const weaponSelect = useCallback((): JSX.Element => {\n    return (\n      <Select defaultValue={\"U\"}>\n        <Option value={\"U\"}>Untrained</Option>\n        <Option value={\"T\"}>Trained</Option>\n        <Option value={\"E\"}>Expert</Option>\n        <Option value={\"M\"}>Master</Option>\n        <Option value={\"L\"}>Legendary</Option>\n      </Select>\n    );\n  }, []);\n\n  const addWeaponProf = useCallback(( name: string ): void => {\n    let newChar = cloneDeep(character);\n    const newProf: trainingType = {\n      name: name.toLowerCase(),\n      training: \"U\"\n    };\n    newChar.details.weapon_training = uniqBy([...cloneDeep(character.details.weapon_training), newProf], \"name\");\n    newChar = assignIn(newChar, { [`weapon_training_${name.toLowerCase()}`]: \"U\" });\n\n    dispatch({\n      type: \"CHARACTER\",\n      payload: newChar,\n    });\n  }, [character, dispatch]);\n\n  const weaponButton = useMemo(() => {\n    if ( character.details.weapon_training.length >= 5 ) {\n      return (\n        <Tooltip title={\"No more proficiencies can be added.\"}>\n          <Button icon={<PlusOutlined/>} disabled={true} type={\"primary\"} size={\"small\"}\n                  className={\"blue-button\"}>Add</Button>\n        </Tooltip>\n      );\n    }\n    else {\n      return (\n        <Popover\n          visible={popVisible}\n          content={<Input.Search\n            size={\"large\"}\n            onSearch={( value ) => {\n              addWeaponProf(value);\n              setPopVisible(false);\n            }}\n            style={{ borderRadius: \"4px\" }}\n            placeholder={\"Proficiency name\"}\n            enterButton={\n              <Button\n                type={\"primary\"}\n                className={\"green-button\"}\n                icon={<CheckOutlined/>}\n              />\n            }\n          />}\n        >\n          <Button\n            icon={<PlusOutlined/>}\n            onClick={() => setPopVisible(true)}\n            type={\"primary\"}\n            size={\"small\"}\n            className={\"blue-button\"}\n          >\n            Add\n          </Button>\n        </Popover>\n      );\n    }\n  }, [character.details.weapon_training, popVisible, addWeaponProf]);\n\n  const weaponProficiencies = useMemo(() => (\n    <Input.Group className={\"form-item-group\"}>\n      <span className={\"item-group-header\"}>\n        Weapon Proficiencies\n        {weaponButton}\n      </span>\n      {map(character.details.weapon_training, ( prof: trainingType ) => {\n        return (\n          <Form.Item\n            key={`form-${prof.name}`}\n            label={startCase(prof.name)}\n            name={`weapon_training_${prof.name}`}\n          >\n            {weaponSelect()}\n          </Form.Item>\n        );\n      })}\n    </Input.Group>\n  ), [character.details.weapon_training, weaponSelect, weaponButton]);\n\n  return (\n    <div className={\"char-tab-content form-details\"}>\n      <div className={\"form-details-col\"}>\n        <Form.Item key={\"form-level\"} label={\"Level\"} name={[\"details\", \"level\"]}>\n          <InputNumber min={1} max={20}/>\n        </Form.Item>\n        <Form.Item key={\"form-exp\"} label={\"Experience\"} name={[\"details\", \"exp\"]}>\n          <InputNumber min={0} max={999}/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-hero-points\"}\n          label={\"Hero Points\"}\n          name={[\"details\", \"hero_points\"]}\n        >\n          <InputNumber min={0} max={3}/>\n        </Form.Item>\n        <Form.Item key={\"form-size\"} label={\"Size\"} name={[\"details\", \"size\"]}>\n          <Select>\n            <Option value={\"small\"}>Small</Option>\n            <Option value={\"medium\"}>Medium</Option>\n            <Option value={\"large\"}>Large</Option>\n          </Select>\n        </Form.Item>\n        <Form.Item\n          key={\"form-languages\"}\n          label={\"Languages\"}\n          name={[\"details\", \"languages\"]}\n        >\n          <Input/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-alignment\"}\n          label={\"Alignment\"}\n          name={[\"details\", \"alignment\"]}\n        >\n          <Select>\n            <Option value=\"LG\">Lawful Good</Option>\n            <Option value=\"NG\">Neutral Good</Option>\n            <Option value=\"CG\">Chaotic Good</Option>\n            <Option value=\"LN\">Lawful Neutral</Option>\n            <Option value=\"N\">True Neutral</Option>\n            <Option value=\"CN\">Chaotic Neutral</Option>\n            <Option value=\"LE\">Lawful Evil</Option>\n            <Option value=\"NE\">Neutral Evil</Option>\n            <Option value=\"CE\">Chaotic Evil</Option>\n          </Select>\n        </Form.Item>\n        <Form.Item key={\"form-traits\"} label={\"Traits\"} name={[\"details\", \"traits\"]}>\n          <Input/>\n        </Form.Item>\n      </div>\n      <div className={\"form-details-col\"}>\n        {weaponProficiencies}\n      </div>\n      <div className={\"form-details-col\"}>\n        <Form.Item\n          key={\"form-strength\"}\n          label={\"Strength\"}\n          name={[\"details\", \"abilities\", \"strength\"]}\n        >\n          <InputNumber min={6} max={30}/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-dexterity\"}\n          label={\"Dexterity\"}\n          name={[\"details\", \"abilities\", \"dexterity\"]}\n        >\n          <InputNumber min={6} max={30}/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-constitution\"}\n          label={\"Constitution\"}\n          name={[\"details\", \"abilities\", \"constitution\"]}\n        >\n          <InputNumber min={6} max={30}/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-intelligence\"}\n          label={\"Intelligence\"}\n          name={[\"details\", \"abilities\", \"intelligence\"]}\n        >\n          <InputNumber min={6} max={30}/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-wisdom\"}\n          label={\"Wisdom\"}\n          name={[\"details\", \"abilities\", \"wisdom\"]}\n        >\n          <InputNumber min={6} max={30}/>\n        </Form.Item>\n        <Form.Item\n          key={\"form-charisma\"}\n          label={\"Charisma\"}\n          name={[\"details\", \"abilities\", \"charisma\"]}\n        >\n          <InputNumber min={6} max={30}/>\n        </Form.Item>\n      </div>\n    </div> );\n};\n\nexport default CharacterFormDetails;\n","import React from \"react\";\nimport { Form, Input } from \"antd\";\n\nimport { CharacterFormTabProps } from \"../../common/interfaces\";\n\nconst { TextArea } = Input;\n\nconst CharacterFormStory = ( { state, dispatch, form }: CharacterFormTabProps ) => {\n  return (\n    <Form.Item key={\"form-story\"} name={\"story\"} className={\"char-form-story\"}>\n      <TextArea\n        autoSize={\n          window.innerHeight > 800\n          ? { minRows: 25, maxRows: 25 }\n          : { minRows: 15, maxRows: 15 }\n        }\n      />\n    </Form.Item>\n  );\n};\n\nexport default CharacterFormStory;\n","import React from \"react\";\nimport { Form, Tabs } from \"antd\";\nimport { FormInstance } from \"antd/lib/form\";\nimport { map, assignIn, omit } from \"lodash\";\n\nimport { EditStateWithReducerProps } from \"../common/interfaces\";\nimport { trainingType } from \"../common/types\";\nimport CharacterFormInfo from \"./form-tabs/form-info\";\nimport CharacterFormDetails from \"./form-tabs/form-details\";\nimport CharacterFormStory from \"./form-tabs/form-story\";\nimport CharacterPortrait from \"./character-portrait\";\n\nexport interface CharacterFormProps extends EditStateWithReducerProps {\n  form: FormInstance\n}\n\nconst { TabPane } = Tabs;\n\nconst CharacterForm = ( { state, dispatch, form }: CharacterFormProps ) => {\n  const { character } = state;\n  const flatterChar: any = assignIn(\n    omit(character, \"details.weapon_training\"),\n    ...map(character.details.weapon_training, ( prof: trainingType ) => {\n        return { [`weapon_training_${prof.name}`]: prof.training };\n      }\n    )\n  );\n\n  return (\n    <Form\n      className={\"character-form\"}\n      form={form}\n      initialValues={flatterChar}\n      layout={\"vertical\"}\n      wrapperCol={{ offset: 1 }}\n      colon={true}\n    >\n      <Tabs className={\"character-form-tabs\"} defaultActiveKey={\"1\"} size={\"large\"}>\n        <TabPane tab={\"Info\"} key={\"1\"}>\n          <CharacterFormInfo/>\n        </TabPane>\n        <TabPane tab={\"Portrait\"} key={\"2\"}>\n          <div className={\"big-portrait char-tab-content\"}>\n            <CharacterPortrait state={state} dispatch={dispatch} editing={true}/>\n          </div>\n        </TabPane>\n        <TabPane tab={\"Details\"} key={\"3\"}>\n          <CharacterFormDetails state={state} dispatch={dispatch} form={form}/>\n        </TabPane>\n        <TabPane tab={\"Story\"} key={\"4\"}>\n          <CharacterFormStory state={state} dispatch={dispatch} form={form}/>\n        </TabPane>\n      </Tabs>\n    </Form>\n  );\n};\n\nexport default CharacterForm;\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Descriptions, Tabs, Form } from \"antd\";\nimport { assignIn, omitBy, isNil, filter, keys, startsWith, words, forEach } from \"lodash\";\nimport { EditFilled, CheckOutlined, CloseOutlined } from \"@ant-design/icons\";\n\nimport \"./character.less\";\nimport CharacterInfo from \"./char-tabs/character-info\";\nimport CharacterDetails from \"./char-tabs/character-details\";\nimport CharacterStory from \"./char-tabs/character-story\";\nimport CharacterForm from \"./character-form\";\nimport { WithReducerProps } from \"../common/interfaces\";\nimport { trainingType } from \"../common/types\";\nimport { getSessionChar } from \"../common/utils\";\n\nconst { TabPane } = Tabs;\n\nexport interface CharacterProps extends WithReducerProps {\n}\n\nconst Character = ( { state, dispatch }: CharacterProps ) => {\n  const [form] = Form.useForm();\n  const [editing, setEditing] = useState<boolean>(false);\n\n  useEffect(() => {\n    dispatch({\n      type: \"SAVE\",\n    });\n  }, [dispatch]);\n\n  const handleFormSave = (): void => {\n    let newChar = form.getFieldsValue();\n\n    const trainingLevels = filter(keys(newChar), ( key: string ) => {\n      return startsWith(key, \"weapon_training\");\n    });\n\n    const weapProf: trainingType[] = [];\n    forEach(trainingLevels, ( prof: string ) => {\n      let exploded = words(prof);\n      weapProf.push({\n        name: exploded[2],\n        training: newChar[prof]\n      });\n    });\n    if ( isNil(newChar.details) ) {\n      newChar = assignIn(newChar, { details: {} });\n    }\n\n    newChar = omitBy(newChar, ( key: string ) => {\n      return !startsWith(key, \"weapon_training\");\n    });\n    newChar.details = assignIn(newChar.details, { weapon_training: weapProf });\n\n    if ( isNil(newChar.protrait) ) {\n      newChar = assignIn(newChar, { info: {} });\n    }\n    if ( isNil(newChar.info.portrait) || ( !newChar.info.portrait && state.character.info.portrait ) ) {\n      newChar.info = assignIn(newChar.info, { portrait: state.character.info.portrait });\n    }\n\n    dispatch({\n      type: \"CHARACTER\",\n      payload: {\n        info: assignIn(state.character.info, newChar.info),\n        details: assignIn(state.character.details, newChar.details),\n        story: newChar.story ? newChar.story : state.character.story,\n      },\n    });\n    setEditing(false);\n  };\n\n  const handleFormCancel = () => {\n    dispatch({\n      type: \"LOAD\",\n      payload: getSessionChar(),\n    });\n    setEditing(false);\n  };\n\n  if ( !editing ) {\n    return (\n      <div className={\"character-content\"}>\n        <Descriptions\n          className={\"character-title\"}\n          title={\n            state.character.info.name\n            ? state.character.info.name\n            : \"New character\"\n          }\n          extra={\n            <Button\n              type={\"primary\"}\n              className={\"blue-button\"}\n              size={\"large\"}\n              icon={<EditFilled/>}\n              onClick={() => setEditing(true)}\n            />\n          }\n        />\n        <Tabs\n          className={\"character-tabs\"}\n          defaultActiveKey={\"1\"}\n          size={\"large\"}\n        >\n          <TabPane tab={\"Info\"} key={\"1\"}>\n            <CharacterInfo state={state} dispatch={dispatch}/>\n          </TabPane>\n          <TabPane tab={\"Details\"} key={\"2\"}>\n            <CharacterDetails state={state} dispatch={dispatch}/>\n          </TabPane>\n          <TabPane tab={\"Story\"} key={\"3\"}>\n            <CharacterStory state={state} dispatch={dispatch}/>\n          </TabPane>\n        </Tabs>\n      </div>\n    );\n  }\n  else {\n    return (\n      <div className={\"character-content\"}>\n        <Descriptions\n          className={\"character-title\"}\n          title={\"Edit Character Information\"}\n          extra={\n            <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\" }}>\n              <Button\n                type={\"primary\"}\n                className={\"red-button\"}\n                size={\"large\"}\n                icon={<CloseOutlined/>}\n                onClick={handleFormCancel}\n              />\n              <Button\n                style={{ marginLeft: \"10px\" }}\n                type={\"primary\"}\n                className={\"green-button\"}\n                size={\"large\"}\n                icon={<CheckOutlined/>}\n                onClick={handleFormSave}\n              />\n            </div>\n          }\n        />\n        <CharacterForm\n          form={form}\n          setEditing={setEditing}\n          state={state}\n          dispatch={dispatch}\n        />\n      </div>\n    );\n  }\n};\n\nexport default Character;\n","import React from 'react';\n\nfunction Combat() {\n    return (\n        <div>This is Combat Content</div>\n    )\n}\n\nexport default Combat;","import React from 'react';\n\nfunction Feats() {\n    return (\n        <div>This is Feats Content</div>\n    )\n}\n\nexport default Feats;","import React from 'react';\n\nfunction Inventory() {\n    return (\n        <div>This is Inventory Content</div>\n    )\n}\n\nexport default Inventory;","import React, { useState } from \"react\";\nimport { cloneDeep, debounce, isNull } from \"lodash\";\nimport { Card, Button, Input } from \"antd\";\nimport { EditFilled, CheckOutlined } from \"@ant-design/icons\";\n\nimport { WithReducerProps } from '../common/interfaces';\n\nconst { TextArea } = Input;\n\nexport interface GeneralNotesProps extends WithReducerProps {}\n\nconst GeneralNotes = ({ state, dispatch }: GeneralNotesProps) => {\n  const [editing, setEditing] = useState(false);\n\n  const changeGeneral = (newText: string | null = null) => {\n    let newGeneralNote = cloneDeep(state.notes.general);\n\n    if (!isNull(newText)) {\n      newGeneralNote.text = newText;\n    }\n\n    dispatch({\n      type: \"NOTES\",\n      payload: {\n        general: true,\n        value: newGeneralNote,\n      },\n    });\n  };\n\n  const debouncedUpdate = debounce(changeGeneral, 300);\n\n  const toggleEditing = () => {\n    if (editing) {\n      debouncedUpdate.flush();\n      setEditing(false);\n    } else {\n      setEditing(true);\n    }\n  };\n\n  return (\n    <div className={\"general-notes\"}>\n      <Card\n        title={\n          <div className={\"card-header\"}>\n            {state.notes.general.title}\n            <Button\n              type={\"primary\"}\n              className={editing ? \"green-button\" : \"blue-button\"}\n              icon={editing ? <CheckOutlined /> : <EditFilled />}\n              onClick={toggleEditing}\n            />\n          </div>\n        }\n      >\n        {editing ? (\n          <TextArea\n            className={\"general-notes-edit\"}\n            defaultValue={state.notes.general.text}\n            autoSize={{ minRows: 10, maxRows: 35 }}\n            onChange={(e) => {\n              e.persist();\n              debouncedUpdate(e.target.value);\n            }}\n          />\n        ) : (\n          <p className={\"note-body\"}>{state.notes.general.text}</p>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nexport default GeneralNotes;\n","import React, { useState, useEffect } from \"react\";\nimport { map, debounce, cloneDeep, findIndex, without } from \"lodash\";\nimport { Card, Button, Input } from \"antd\";\nimport {\n  EditFilled,\n  PlusOutlined,\n  CloseOutlined,\n  CheckOutlined,\n} from \"@ant-design/icons\";\n\nimport { baseNote } from \"../common/defaults\";\nimport { WithReducerProps } from \"../common/interfaces\";\nimport { noteType } from '../common/types';\n\nconst { TextArea } = Input;\n\nexport interface OtherNotesProps extends WithReducerProps {}\n\nconst OtherNotes = ({ state, dispatch }: OtherNotesProps) => {\n  const [editing, setEditing] = useState(0);\n\n  useEffect(() => {\n    if (state.notes.other.length === 0) {\n      addOther();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state]);\n\n  const addOther = () => {\n    let newOtherNotes = [...state.notes.other];\n    let newNote = {\n      ...cloneDeep(baseNote),\n      id: newOtherNotes.length + 1,\n      title: \"New Note\",\n      text: \"Write here!\",\n    };\n\n    newOtherNotes.push(newNote);\n\n    dispatch({\n      type: \"NOTES\",\n      payload: {\n        general: false,\n        value: newOtherNotes,\n      },\n    });\n  };\n\n  const updateOtherTitle = (id: number, title: string) => {\n    let newOtherNotes = [...state.notes.other];\n    let updateIndex = findIndex(newOtherNotes, [\"id\", id]);\n    let updatedNote = cloneDeep(newOtherNotes[updateIndex]);\n\n    updatedNote.title = title;\n\n    newOtherNotes[updateIndex] = updatedNote;\n\n    dispatch({\n      type: \"NOTES\",\n      payload: {\n        general: false,\n        value: newOtherNotes,\n      },\n    });\n  };\n\n  const updateOtherText = (id: number, text: string) => {\n    let newOtherNotes = [...state.notes.other];\n    let updateIndex = findIndex(newOtherNotes, [\"id\", id]);\n    let updatedNote = cloneDeep(newOtherNotes[updateIndex]);\n\n    updatedNote.text = text;\n\n    newOtherNotes[updateIndex] = updatedNote;\n\n    dispatch({\n      type: \"NOTES\",\n      payload: {\n        general: false,\n        value: newOtherNotes,\n      },\n    });\n  };\n\n  const removeOther = (note: noteType) => {\n    dispatch({\n      type: \"NOTES\",\n      payload: {\n        general: false,\n        value: without(state.notes.other, note),\n      },\n    });\n  };\n\n  const debouncedUpdateTitle = debounce(updateOtherTitle, 300);\n  const debouncedUpdateText = debounce(updateOtherText, 300);\n\n  const toggleEditing = (id: number) => {\n    if (editing !== 0) {\n      debouncedUpdateTitle.flush();\n      debouncedUpdateText.flush();\n      setEditing(0);\n    } else {\n      setEditing(id);\n    }\n  };\n\n  return (\n    <div className={\"other-notes\"}>\n      <Card\n        title={\n          <div className={\"card-header\"}>\n            Other Notes\n            <Button\n              type={\"primary\"}\n              className={\"green-button\"}\n              icon={<PlusOutlined />}\n              onClick={addOther}\n            />\n          </div>\n        }\n      >\n        {map(state.notes.other, (note) => {\n          return (\n            <Card\n              className={\"other-note-card\"}\n              key={`other-note-${note.id}`}\n              title={\n                <div className={\"card-header\"}>\n                  {editing === note.id ? (\n                    <Input\n                      className={\"other-notes-edit-title\"}\n                      defaultValue={note.title}\n                      onPressEnter={() => toggleEditing(note.id)}\n                      onChange={(e) => {\n                        e.persist();\n                        debouncedUpdateTitle(note.id, e.target.value);\n                      }}\n                    />\n                  ) : (\n                    note.title\n                  )}\n                  <div className={\"card-header-actions\"}>\n                    <Button\n                      type={\"primary\"}\n                      className={\n                        editing === note.id ? \"green-button\" : \"blue-button\"\n                      }\n                      icon={\n                        editing === note.id ? <CheckOutlined /> : <EditFilled />\n                      }\n                      onClick={() => toggleEditing(note.id)}\n                    />\n                    <Button\n                      type={\"primary\"}\n                      className={\"red-button\"}\n                      icon={<CloseOutlined />}\n                      onClick={() => removeOther(note)}\n                    />\n                  </div>\n                </div>\n              }\n            >\n              {editing === note.id ? (\n                <TextArea\n                  className={\"other-notes-edit-text\"}\n                  defaultValue={note.text}\n                  autoSize={{ minRows: 4 }}\n                  onChange={(e) => {\n                    e.persist();\n                    debouncedUpdateText(note.id, e.target.value);\n                  }}\n                />\n              ) : (\n                <p>{note.text}</p>\n              )}\n            </Card>\n          );\n        })}\n      </Card>\n    </div>\n  );\n};\n\nexport default OtherNotes;\n","import React from \"react\";\n\nimport \"./notes.less\";\nimport GeneralNotes from \"./notes-general\";\nimport OtherNotes from \"./notes-other\";\nimport { WithReducerProps } from \"../common/interfaces\";\n\nexport interface NotesProps extends WithReducerProps {}\n\nconst Notes = ({ state, dispatch }: NotesProps) => {\n  return (\n    <div className={\"notes-content\"}>\n      <GeneralNotes state={state} dispatch={dispatch} />\n      <OtherNotes state={state} dispatch={dispatch} />\n    </div>\n  );\n};\n\nexport default Notes;\n","import React from 'react';\n\nfunction References() {\n    return (\n        <div>This is References Content</div>\n    )\n}\n\nexport default References;","import React from 'react';\n\n// NOTE: make sure to include a way to add lore skills\n// NOTE: sort into groups by ability?\nfunction Skills() {\n    return (\n        <div>This is Skills Content</div>\n    )\n}\n\nexport default Skills;","import React from 'react';\n\nfunction Spells() {\n    return (\n        <div>This is Spells Content</div>\n    )\n}\n\nexport default Spells;","import React from 'react';\n\nfunction CharHeader() {\n    return (\n        <div>This is CharHeader</div>\n    )\n}\n\nexport default CharHeader;","import React from \"react\";\nimport { isEqual } from \"lodash\";\nimport { Button, Modal, message } from \"antd\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\n\nimport { mainStateDefault } from \"../../common/defaults\";\nimport { WithReducerProps } from \"../../common/interfaces\";\n\nconst { confirm } = Modal;\n\nexport interface NewButtonProps extends WithReducerProps {}\n\nconst NewButton = ({ state, dispatch }: NewButtonProps) => {\n  const newChar = () => {\n    dispatch({ type: \"NEW\" });\n    message.success(\"Created new character!\");\n  };\n\n  const handleNew = () => {\n    if (!isEqual(state, mainStateDefault)) {\n      confirm({\n        title: \"Do you want to override the current character?\",\n        icon: <ExclamationCircleOutlined />,\n        content: \"You will lose any unsaved changes.\",\n        okText: \"Override\",\n        onOk() {\n          newChar();\n        },\n      });\n    } else {\n      message.success(\"Created new character!\");\n    }\n  };\n\n  return (\n    <Button\n      type={\"primary\"}\n      className={\"red-button\"}\n      size={\"small\"}\n      onClick={handleNew}\n    >\n      New\n    </Button>\n  );\n};\n\nexport default NewButton;\n","import React, { useState } from \"react\";\nimport { keys, isEqual, map } from \"lodash\";\nimport { Button, Select, Modal, message, Checkbox } from \"antd\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\n\nimport { mainStateDefault } from \"../../common/defaults\";\nimport { WithReducerProps } from \"../../common/interfaces\";\nimport { setAndGetDefaultChar, checkIfDefault } from \"../../common/utils\";\n\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nexport interface LoadButtonProps extends WithReducerProps {}\n\nconst LoadButton = ({ state, dispatch }: LoadButtonProps) => {\n  const [loadVisible, setLoadVisible] = useState<boolean>(false);\n  const [toLoadName, setToLoadName] = useState<string>(\"\");\n  const [makeDefault, setMakeDefault] = useState<boolean>(false);\n\n  const loadChar = () => {\n    if (toLoadName) {\n      if (makeDefault) {\n        dispatch({\n          type: \"LOAD\",\n          payload: setAndGetDefaultChar(toLoadName),\n        });\n      }\n      dispatch({\n        type: \"LOAD\",\n        payload: JSON.parse(localStorage[toLoadName]),\n      });\n    } else {\n      message.error(\"No character selected!\");\n    }\n    setToLoadName(\"\");\n  };\n\n  const handleOk = () => {\n    setLoadVisible(false);\n    if (!isEqual(state, mainStateDefault)) {\n      confirm({\n        title: \"Do you want to override the current character?\",\n        icon: <ExclamationCircleOutlined />,\n        content: \"You will lose any unsaved changes.\",\n        okText: \"Override\",\n        onOk() {\n          loadChar();\n        },\n      });\n    } else {\n      loadChar();\n    }\n  };\n\n  const handleOpenModal = () => {\n    if (keys(localStorage).length === 0) {\n      message.info(\"No characters to load.\");\n    } else {\n      setLoadVisible(true);\n    }\n  };\n\n  return (\n    <div>\n      <Button\n        type={\"primary\"}\n        className={\"blue-button\"}\n        size={\"small\"}\n        onClick={handleOpenModal}\n      >\n        Load\n      </Button>\n      <Modal\n        title={\"Load Character\"}\n        visible={loadVisible}\n        closable={false}\n        onOk={handleOk}\n        okText={\"Load\"}\n        onCancel={() => setLoadVisible(false)}\n      >\n        <div className={\"load-modal\"}>\n          <Select\n            placeholder={\"Select a character\"}\n            onChange={(value: string) => setToLoadName(value)}\n          >\n            {map(keys(localStorage), (name) => {\n              return (\n                <Option key={name} value={name}>\n                  {name}\n                </Option>\n              );\n            })}\n          </Select>\n          <Checkbox\n            onChange={(e) => setMakeDefault(e.target.checked)}\n            disabled={!toLoadName || checkIfDefault(toLoadName)}\n          >\n            Make this character the default?\n          </Checkbox>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default LoadButton;\n","import React from \"react\";\nimport { Button } from \"antd\";\n\nimport { saveLocalChar } from \"../../common/utils\";\nimport { mainStateType } from \"../../common/types\";\n\nexport interface SaveButtonProps {\n  state: mainStateType;\n}\n\nconst SaveButton = ({ state }: SaveButtonProps) => {\n  return (\n    <Button\n      type={\"primary\"}\n      className={\"green-button\"}\n      size={\"small\"}\n      onClick={() => saveLocalChar(state)}\n    >\n      Save\n    </Button>\n  );\n};\n\nexport default SaveButton;\n","import { assignIn, cloneDeep } from \"lodash\";\n\nimport { mainStateDefault } from \"../common/defaults\";\nimport { mainStateType } from \"../common/types\";\nimport { saveSessionChar } from \"../common/utils\";\n\nexport type mainReducerActionType =\n  | \"NEW\"\n  | \"LOAD\"\n  | \"SAVE\"\n  | \"CHARACTER\"\n  | \"PORTRAIT\"\n  | \"NOTES\";\n\ninterface MainReducerProps {\n  (\n    state: mainStateType,\n    action: { type: mainReducerActionType; payload: any }\n  ): any;\n}\n\nexport const MainReducer: MainReducerProps = (state, action) => {\n  let newState = cloneDeep(state);\n\n  switch (action.type) {\n    case \"NEW\": {\n      newState = cloneDeep(mainStateDefault);\n      break;\n    }\n\n    case \"LOAD\": {\n      newState = assignIn(newState, action.payload);\n      break;\n    }\n\n    case \"CHARACTER\": {\n      // action.payload: characterType object\n      let newCharacter = cloneDeep(newState.character);\n      newCharacter = assignIn(newCharacter, action.payload);\n      newState = assignIn(newState, { character: newCharacter });\n      break;\n    }\n\n    case \"PORTRAIT\": {\n      // action.payload: base64 string for the image\n      let newCharacter = cloneDeep(newState.character);\n      newCharacter.info = assignIn(newCharacter.info, {\n        portrait: action.payload,\n      });\n      newState = assignIn(newState, { character: newCharacter });\n      break;\n    }\n\n    case \"NOTES\": {\n      // action.payload: {\n      //     general: boolean,\n      //     value: {title: string, text: string} OR {title: string, text: string}[]\n      // }\n      if (action.payload.general) {\n        let newNotes = cloneDeep(newState.notes);\n        newNotes = assignIn(newNotes, {\n          general: cloneDeep(action.payload.value),\n        });\n        newState = assignIn(newState, {\n          notes: newNotes,\n        });\n      } else {\n        let newNotes = cloneDeep(newState.notes);\n        newNotes = assignIn(newNotes, {\n          other: [...action.payload.value],\n        });\n        newState = assignIn(newState, {\n          notes: newNotes,\n        });\n      }\n      break;\n    }\n\n    case \"SAVE\": {\n      break;\n    }\n\n    default: {\n      newState = state;\n      break;\n    }\n  }\n\n  saveSessionChar(newState);\n  return newState;\n};\n","import React, { useState, useReducer, useEffect } from \"react\";\nimport { Layout, Menu } from \"antd\";\nimport {\n  UserOutlined,\n  FireOutlined,\n  TagsOutlined,\n  BarsOutlined,\n  AlertOutlined,\n  ShoppingOutlined,\n  BookOutlined,\n  FileSearchOutlined,\n} from \"@ant-design/icons\";\n\nimport \"./app.less\";\nimport Character from \"../character/character\";\nimport Combat from \"../combat/combat\";\nimport Feats from \"../feats/feats\";\nimport Inventory from \"../inventory/inventory\";\nimport Notes from \"../notes/notes\";\nimport References from \"../references/references\";\nimport Skills from \"../skills/skills\";\nimport Spells from \"../spells/spells\";\nimport CharHeader from \"../common/components/char-header\";\nimport NewButton from \"./buttons/new-button\";\nimport LoadButton from \"./buttons/load-button\";\nimport SaveButton from \"./buttons/save-button\";\nimport { MainReducer } from \"./main-reducer\";\nimport { mainStateDefault } from \"../common/defaults\";\nimport {\n  checkForDefault,\n  getDefaultChar,\n  checkForSessionChar,\n  getSessionChar,\n} from \"../common/utils\";\n\nconst { Header, Content, Sider, Footer } = Layout;\n\nconst App = () => {\n  const [currContent, changeCurrContent] = useState<\n    | \"character\"\n    | \"feats\"\n    | \"skills\"\n    | \"combat\"\n    | \"spells\"\n    | \"inventory\"\n    | \"notes\"\n    | \"reference\"\n  >(\"character\");\n  const [collapsed, setCollapsed] = useState<boolean>(window.innerHeight < 800);\n  const [state, dispatch] = useReducer(MainReducer, mainStateDefault);\n\n  useEffect(() => {\n    if (checkForSessionChar()) {\n      dispatch({\n        type: \"LOAD\",\n        payload: getSessionChar(),\n      });\n    } else if (checkForDefault()) {\n      dispatch({\n        type: \"LOAD\",\n        payload: getDefaultChar(),\n      });\n    }\n  }, []);\n\n  const handleMenuChange = (item: any) => {\n    if (![\"new-action\", \"load-action\", \"save-action\"].includes(item.key)) {\n      changeCurrContent(item.key);\n    }\n  };\n\n  let mainContent = <div>This is no Content</div>;\n  switch (currContent) {\n    case \"character\":\n      mainContent = <Character state={state} dispatch={dispatch} />;\n      break;\n\n    case \"feats\":\n      mainContent = <Feats />;\n      break;\n\n    case \"skills\":\n      mainContent = <Skills />;\n      break;\n\n    case \"combat\":\n      mainContent = <Combat />;\n      break;\n\n    case \"spells\":\n      mainContent = <Spells />;\n      break;\n\n    case \"inventory\":\n      mainContent = <Inventory />;\n      break;\n\n    case \"notes\":\n      mainContent = <Notes state={state} dispatch={dispatch} />;\n      break;\n\n    case \"reference\":\n      mainContent = <References />;\n      break;\n\n    default:\n      break;\n  }\n\n  return (\n    <div className=\"app\">\n      <Layout>\n        <Sider\n          className={\"app-sider\"}\n          collapsible={true}\n          collapsed={collapsed}\n          onCollapse={(collapsed) => setCollapsed(collapsed)}\n        >\n          <div className={\"app-header\"}>\n            <img\n              className={\"logo\"}\n              src={process.env.PUBLIC_URL + \"/logo192.png\"}\n              alt={\n                \"Website icon depicting a gold gear on a dark red square with rounded corners\"\n              }\n            />\n            {!collapsed && <Header>PF2 WebSheet</Header>}\n          </div>\n          <div className={!collapsed ? \"button-group row\" : \"button-group col\"}>\n            <NewButton state={state} dispatch={dispatch} />\n            <LoadButton state={state} dispatch={dispatch} />\n            <SaveButton state={state} />\n          </div>\n          <Menu\n            theme=\"dark\"\n            mode=\"inline\"\n            onSelect={handleMenuChange}\n            defaultSelectedKeys={[\"character\"]}\n          >\n            <Menu.Item\n              key=\"character\"\n              className={\"red\"}\n              icon={<UserOutlined />}\n            >\n              Character\n            </Menu.Item>\n            <Menu.Item\n              key=\"feats\"\n              className={\"volcano\"}\n              icon={<TagsOutlined />}\n            >\n              Feats\n            </Menu.Item>\n            <Menu.Item\n              key=\"skills\"\n              className={\"orange\"}\n              icon={<BarsOutlined />}\n            >\n              Skills\n            </Menu.Item>\n            <Menu.Item\n              key=\"combat\"\n              className={\"green\"}\n              icon={<AlertOutlined />}\n            >\n              Combat\n            </Menu.Item>\n            <Menu.Item key=\"spells\" className={\"blue\"} icon={<FireOutlined />}>\n              Spells\n            </Menu.Item>\n            <Menu.Item\n              key=\"inventory\"\n              className={\"geekblue\"}\n              icon={<ShoppingOutlined />}\n            >\n              Inventory\n            </Menu.Item>\n            <Menu.Item key=\"notes\" className={\"purple\"} icon={<BookOutlined />}>\n              Notes\n            </Menu.Item>\n            <Menu.Item\n              key=\"reference\"\n              className={\"magenta\"}\n              icon={<FileSearchOutlined />}\n            >\n              Reference\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Layout className={\"app-layout\"}>\n          {currContent !== \"character\" && <CharHeader />}\n          <Content className={\"app-main\"}>{mainContent}</Content>\n          <Footer className={\"app-footer\"}>\n            This web-app uses trademarks and/or copyrights owned by Paizo Inc.,\n            which are used under Paizo's Community Use Policy. We are expressly\n            prohibited from charging you to use or access this content. This\n            web-app is not published, endorsed, or specifically approved by\n            Paizo Inc. For more information about Paizo's Community Use Policy,\n            please visit&nbsp;\n            <a href=\"https://paizo.com/communityuse\">paizo.com/communityuse</a>.\n            For more information about Paizo Inc. and Paizo products, please\n            visit <a href=\"https://paizo.com/\">paizo.com</a>.\n          </Footer>\n        </Layout>\n      </Layout>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./styles/index.less\";\nimport App from \"./components/app/app\";\nimport * as serviceWorker from \"./tests/serviceWorker\";\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
(this.webpackJsonppf2_sheet=this.webpackJsonppf2_sheet||[]).push([[0],{194:function(e,a,t){e.exports=t(450)},199:function(e,a,t){},205:function(e,a,t){},208:function(e,a,t){},415:function(e,a,t){},450:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(22),c=t.n(r),i=(t(199),t(200),t(48)),s=t.n(i),o=t(31),m=(t(203),t(69)),u=t.n(m),d=t(467),b=t(468),p=t(469),E=t(470),h=t(471),g=t(472),f=t(473),y=t(474),O=(t(205),t(109),t(61)),v=t.n(O),j=(t(45),t(30)),N=t.n(j),k=t(462),w=(t(208),t(7)),x=t(23),C=t.n(x),S=(t(209),t(191)),I=t.n(S),D=(t(93),t(87)),_=t.n(D),T=(t(134),t(190),t(460)),z=t(461);var L=function(e){var a=e.state,t=e.dispatch,r=Object(n.useState)(""),c=Object(o.a)(r,2),i=c[0],s=c[1],m=Object(n.useState)(!1),u=Object(o.a)(m,2),d=u[0],b=u[1],p=new FileReader;return p.onloadend=function(){console.log("finished read!"),"string"===typeof p.result&&(s(p.result),b(!1))},Object(n.useEffect)((function(){a.character.portrait&&!i&&s(a.character.portrait)}),[a,i,s]),Object(n.useEffect)((function(){i&&i!==a.character.portrait&&(console.log("dispatching portrait!"),t({type:"PORTRAIT",payload:i}))}),[i,t,a.character.portrait]),l.a.createElement("div",{className:"character-portrait"},l.a.createElement(I.a,{name:"portrait",listType:"picture-card",className:i?"portrait-uploader uploaded":"portrait-uploader",showUploadList:!1,onChange:function(e){if("uploading"!==e.file.status){if("done"===e.file.status){var a=e.file.originFileObj;Object(w.isNil)(a)||(console.log("starting read now!"),p.readAsDataURL(a))}}else b(!0)}},i?l.a.createElement(_.a,{title:"Replace image?"},l.a.createElement("img",{src:i,alt:"Portrait for ".concat(a.character.name)})):l.a.createElement("div",{className:"portrait-prompt"},d?l.a.createElement(T.a,null):l.a.createElement(z.a,null),l.a.createElement("div",null,"Upload"))))};var R=function(e){var a=e.state,t=e.dispatch,n=a.character,r=n.ancestry,c=n.heritage,i=n.background,s=n.class,o=n.level,m=n.exp,u=n.hero_points,d=n.size,b=n.diety,p=n.alignment;return l.a.createElement("div",{className:"character-info"},l.a.createElement(L,{state:a,dispatch:t}),l.a.createElement(v.a,{className:"info-fields",bordered:!0,size:"small",column:2},l.a.createElement(C.a,{label:"Level"},o),l.a.createElement(C.a,{label:"Class"},s),l.a.createElement(C.a,{label:"Ancestry"},r),l.a.createElement(C.a,{label:"Heritage"},c),l.a.createElement(C.a,{label:"Background"},i),l.a.createElement(C.a,{label:"Deity"},b),l.a.createElement(C.a,{label:"Size"},Object(w.startCase)(d)),l.a.createElement(C.a,{label:"Exp"},m),l.a.createElement(C.a,{label:"Alignment"},p),l.a.createElement(C.a,{label:"Hero Points"},u)))},A=(t(301),t(68)),H=t.n(A);var U,W,P=function(e){var a=e.proficiency,t=e.disable,n=void 0===t||t,r=(e.setProf,a.name),c=a.training,i={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginRight:0,maxWidth:"25px",width:"25px",fontSize:"10px"};return l.a.createElement("div",{style:{marginRight:"10px",display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement("div",{style:{paddingBottom:"3px",fontSize:"13px"}},Object(w.startCase)(r)),l.a.createElement(H.a.Group,{style:{display:"flex",flexDirection:"row",alignItems:"center"},name:r,value:c,size:"small"},l.a.createElement(H.a,{style:i,value:"U",disabled:n&&"U"!==c},"U"),l.a.createElement(H.a,{style:i,value:"T",disabled:n&&"T"!==c},"T"),l.a.createElement(H.a,{style:i,value:"E",disabled:n&&"E"!==c},"E"),l.a.createElement(H.a,{style:i,value:"M",disabled:n&&"M"!==c},"M"),l.a.createElement(H.a,{style:i,value:"L",disabled:n&&"L"!==c},"L")))},B=(t(120),t(46)),F=t.n(B),J=t(17);(W=U||(U={})).STR="strength",W.CON="constitution",W.DEX="dexterity",W.INT="intelligence",W.WIS="wisdom",W.CHA="charisma";var G={name:"",training:"U",ability:null,misc_bonus:0,armor_penalty:!1},M={id:0,title:"",text:""},V={default:!1,character:{name:"",portrait:"",ancestry:"",heritage:"",class:"Commoner",background:"",diety:"",alignment:"N",size:"medium",traits:"",level:1,exp:0,hero_points:0,details:"",languages:"Common",weapon_training:[{name:"simple",training:"U"},{name:"martial",training:"U"},{name:"unarmed",training:"U"}],abilities:{strength:10,constitution:10,dexterity:10,intelligence:10,wisdom:10,charisma:10}},feats:{class:[],general:[],skill:[],ancestry:[],heritage:[],bonus:[]},skills:[Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"acrobatics",ability:U.DEX,armor_penalty:!0}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"arcana",ability:U.INT}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"athletics",ability:U.STR,armor_penalty:!0}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"crafting",ability:U.INT}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"deception",ability:U.CHA}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"diplomacy",ability:U.CHA}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"intimidation",ability:U.CHA}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"medicine",ability:U.WIS}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"nature",ability:U.WIS}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"occultism",ability:U.INT}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"performance",ability:U.CHA}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"religion",ability:U.WIS}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"society",ability:U.INT}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"stealth",ability:U.DEX,armor_penalty:!0}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"survival",ability:U.WIS}),Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(G)),{},{name:"thievery",ability:U.DEX,armor_penalty:!0})],combat:{hp:{current:0,max:0,temp:0},armor:{ac_bonus:0,check_penalty:0,dex_cap:null,group:"none",misc_bonus:0,speed_penalty:0,training:"U",traits:[],type:"unarmored"},class_dc:null,perception:{ability:"WIS",training:"U",item_bonus:0,misc_bonus:0,senses:""},saves:{fortitude:{training:"U",itemBonus:0,miscBonus:0},reflex:{training:"U",itemBonus:0,miscBonus:0},will:{training:"U",itemBonus:0,miscBonus:0}},speed:{base:25,misc_bonus:0,types:""},attacks:{melee:[],ranged:[]}},spells:{cantrip_level:1,spell_training:"U",casting_ability:null,slots:[{level:"cantrip",max:0,unused:0},{level:1,max:0,unused:0},{level:2,max:0,unused:0},{level:3,max:0,unused:0},{level:4,max:0,unused:0},{level:5,max:0,unused:0},{level:6,max:0,unused:0},{level:7,max:0,unused:0},{level:8,max:0,unused:0},{level:9,max:0,unused:0},{level:10,max:0,unused:0}],spells:[]},inventory:{bulk:{current:0,encumbered:5,max:8},coin:{copper:0,silver:0,gold:15,platinum:0},worn:[],readied:[],other:[],containers:[]},notes:{general:Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(M)),{},{title:"General Notes",text:"Here are your general notes!"}),other:[]}},X=function(e){var a=Math.floor(e/2)-5;return a>=0?"+".concat(a):"-".concat(a)},q=function(){var e=V;return Object(w.forEach)(Object(w.keys)(localStorage),(function(a){var t=JSON.parse(localStorage[a]);t.default&&(e=t)})),e},Y=function(e){var a=V;return Object(w.forEach)(Object(w.keys)(localStorage),(function(t){var n=JSON.parse(localStorage[t]);n.character.name===e&&(n.default=!0,a=n)})),a};var K=function(e){var a=e.state,t=(e.dispatch,a.character),n=t.abilities,r=t.languages,c=t.details,i=t.weapon_training,s=t.traits,o=n.strength,m=n.dexterity,u=n.constitution,d=n.intelligence,b=n.wisdom,p=n.charisma;return l.a.createElement("div",{className:"character-details"},l.a.createElement(v.a,{className:"details-top",column:6,size:"small",bordered:!0,layout:"vertical"},l.a.createElement(C.a,{className:"details-score",label:"STR"},o),l.a.createElement(C.a,{className:"details-score",label:"DEX"},m),l.a.createElement(C.a,{className:"details-score",label:"CON"},u),l.a.createElement(C.a,{className:"details-score",label:"INT"},d),l.a.createElement(C.a,{className:"details-score",label:"WIS"},b),l.a.createElement(C.a,{className:"details-score",label:"CHA"},p),l.a.createElement(C.a,{className:"details-score-mod"},X(o)),l.a.createElement(C.a,{className:"details-score-mod"},X(m)),l.a.createElement(C.a,{className:"details-score-mod"},X(u)),l.a.createElement(C.a,{className:"details-score-mod"},X(d)),l.a.createElement(C.a,{className:"details-score-mod"},X(b)),l.a.createElement(C.a,{className:"details-score-mod"},X(p)),l.a.createElement(C.a,{label:"Languages",span:3},r),l.a.createElement(C.a,{label:"Traits",span:3},s),l.a.createElement(C.a,{label:"Weapon Proficiences",span:6},l.a.createElement("div",{className:"details-profs"},Object(w.map)(i,(function(e){return l.a.createElement(P,{proficiency:e,key:"prof-".concat(e.name)})}))))),l.a.createElement(v.a,{className:"details-bottom",column:1,size:"small",bordered:!0,layout:"vertical"},l.a.createElement(C.a,{label:"Background, Details, Notes"},c||"Write down some extra details about your character?")))},$=(t(161),t(133)),Q=t.n($),Z=(t(309),t(47)),ee=t.n(Z),ae=(t(162),t(80)),te=t.n(ae),ne=t(108),le=t(62),re=(t(311),t(27)),ce=t.n(re),ie=(t(122),t(35)),se=t.n(ie),oe=(t(163),t(63)),me=t.n(oe),ue=me.a.Option,de=se.a.TextArea;var be=function(e){var a=e.state,t=e.dispatch,r=e.setEditing,c=ce.a.useForm(),i=Object(o.a)(c,1)[0],s=a.character,m=Object(n.useCallback)((function(){return l.a.createElement(me.a,null,l.a.createElement(ue,{value:"U"},"Untrained"),l.a.createElement(ue,{value:"T"},"Trained"),l.a.createElement(ue,{value:"E"},"Expert"),l.a.createElement(ue,{value:"M"},"Master"),l.a.createElement(ue,{value:"L"},"Legendary"))}),[]),u=w.assignIn.apply(void 0,[Object(w.omit)(s,"weapon_training")].concat(Object(le.a)(Object(w.map)(s.weapon_training,(function(e){return Object(ne.a)({},"weapon_training_".concat(e.name),e.training)})))));return console.log(window.innerHeight),l.a.createElement(ce.a,{className:"character-form",form:i,initialValues:u,layout:"vertical",size:window.innerHeight>800?"middle":"small",wrapperCol:{offset:1},colon:!0},l.a.createElement(Q.a,{gutter:15},l.a.createElement(te.a,{span:6},l.a.createElement(ce.a.Item,{key:"form-name",label:"Name",name:"name",rules:[{required:!0,message:"Character needs a name to save properly."}]},l.a.createElement(se.a,{placeholder:"Please enter a name."})),l.a.createElement(ce.a.Item,{key:"form-ancestry",label:"Ancestry",name:"ancestry"},l.a.createElement(se.a,null)),l.a.createElement(ce.a.Item,{key:"form-heritage",label:"Heritage",name:"heritage"},l.a.createElement(se.a,null)),l.a.createElement(ce.a.Item,{key:"form-background",label:"Background",name:"background"},l.a.createElement(se.a,null)),l.a.createElement(ce.a.Item,{key:"form-size",label:"Size",name:"size"},l.a.createElement(me.a,null,l.a.createElement(ue,{value:"small"},"Small"),l.a.createElement(ue,{value:"medium"},"Medium"),l.a.createElement(ue,{value:"large"},"Large"))),l.a.createElement(ce.a.Item,{key:"form-languages",label:"Languages",name:"languages"},l.a.createElement(se.a,null)),l.a.createElement(ce.a.Item,{key:"form-diety",label:"Diety",name:"diety"},l.a.createElement(se.a,null)),l.a.createElement(ce.a.Item,{key:"form-alignment",label:"Alignment",name:"alignment"},l.a.createElement(me.a,null,l.a.createElement(ue,{value:"LG"},"Lawful Good"),l.a.createElement(ue,{value:"NG"},"Neutral Good"),l.a.createElement(ue,{value:"CG"},"Chaotic Good"),l.a.createElement(ue,{value:"LN"},"Lawful Neutral"),l.a.createElement(ue,{value:"N"},"True Neutral"),l.a.createElement(ue,{value:"CN"},"Chaotic Neutral"),l.a.createElement(ue,{value:"LE"},"Lawful Evil"),l.a.createElement(ue,{value:"NE"},"Neutral Evil"),l.a.createElement(ue,{value:"CE"},"Chaotic Evil")))),l.a.createElement(te.a,{span:6},l.a.createElement(ce.a.Item,{key:"form-class",label:"Class",name:"class"},l.a.createElement(se.a,null)),l.a.createElement(ce.a.Item,{key:"form-level",label:"Level",name:"level"},l.a.createElement(ee.a,{min:1,max:20})),l.a.createElement(ce.a.Item,{key:"form-exp",label:"Experience",name:"exp"},l.a.createElement(ee.a,{min:0,max:999})),l.a.createElement(ce.a.Item,{key:"form-hero-points",label:"Hero Points",name:"hero_points"},l.a.createElement(ee.a,{min:0,max:3})),l.a.createElement(ce.a.Item,{key:"form-traits",label:"Traits",name:"traits"},l.a.createElement(se.a,null)),l.a.createElement(se.a.Group,{className:"character-form-weapons"},l.a.createElement("span",{id:"form-weapons-head"},"Weapon Proficiences"),Object(w.map)(s.weapon_training,(function(e){return l.a.createElement(ce.a.Item,{key:"form-".concat(e.name),label:Object(w.startCase)(e.name),name:"weapon_training_".concat(e.name)},m())})))),l.a.createElement(te.a,{span:4},l.a.createElement(ce.a.Item,{key:"form-strength",label:"Strength",name:["abilities","strength"]},l.a.createElement(ee.a,{min:6,max:30})),l.a.createElement(ce.a.Item,{key:"form-dexterity",label:"Dexterity",name:["abilities","dexterity"]},l.a.createElement(ee.a,{min:6,max:30})),l.a.createElement(ce.a.Item,{key:"form-constitution",label:"Constitution",name:["abilities","constitution"]},l.a.createElement(ee.a,{min:6,max:30})),l.a.createElement(ce.a.Item,{key:"form-intelligence",label:"Intelligence",name:["abilities","intelligence"]},l.a.createElement(ee.a,{min:6,max:30})),l.a.createElement(ce.a.Item,{key:"form-wisdom",label:"Wisdom",name:["abilities","wisdom"]},l.a.createElement(ee.a,{min:6,max:30})),l.a.createElement(ce.a.Item,{key:"form-charisma",label:"Charisma",name:["abilities","charisma"]},l.a.createElement(ee.a,{min:6,max:30}))),l.a.createElement(te.a,{span:8},l.a.createElement(ce.a.Item,{key:"form-details",label:"Details",name:"details"},l.a.createElement(de,{autoSize:window.innerHeight>800?{minRows:25,maxRows:25}:{minRows:15,maxRows:15}})))),l.a.createElement("div",{className:"character-form-btn"},l.a.createElement(N.a,{className:"green-button",size:window.innerHeight>800?"large":"middle",type:"primary",onClick:function(){var e=i.getFieldsValue(),a=[{name:"simple",training:e.weapon_training_simple},{name:"martial",training:e.weapon_training_martial},{name:"unarmed",training:e.weapon_training_unarmed}];(e=Object(w.omit)(e,"weapon_training_simple","weapon_training_martial","weapon_training_unarmed","weapon_training_other")).weapon_training=a,t({type:"CHARACTER",payload:Object(w.assignIn)(s,e)}),r(!1)}},"Save")))};var pe=function(e){var a=e.state,t=e.dispatch,r=Object(n.useState)(!1),c=Object(o.a)(r,2),i=c[0],s=c[1];return i?l.a.createElement("div",{className:"character-content"},l.a.createElement(v.a,{className:"character-title",title:"Edit Character Information"}),l.a.createElement(be,{setEditing:s,state:a,dispatch:t})):l.a.createElement("div",{className:"character-content"},l.a.createElement(v.a,{className:"character-title",title:a.character.name,extra:l.a.createElement(N.a,{type:"primary",className:"blue-button",icon:l.a.createElement(k.a,null),onClick:function(){return s(!0)}})}),l.a.createElement(R,{state:a,dispatch:t}),l.a.createElement(K,{state:a,dispatch:t}))};var Ee=function(){return l.a.createElement("div",null,"This is Combat Content")};var he=function(){return l.a.createElement("div",null,"This is Feats Content")};var ge=function(){return l.a.createElement("div",null,"This is Inventory Content")},fe=(t(415),t(182),t(90)),ye=t.n(fe),Oe=t(463),ve=se.a.TextArea,je=function(e){var a=e.state,t=e.dispatch,r=Object(n.useState)(!1),c=Object(o.a)(r,2),i=c[0],s=c[1],m=Object(w.debounce)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Object(w.cloneDeep)(a.notes.general);Object(w.isNull)(e)||(n.text=e),t({type:"NOTES",payload:{general:!0,value:n}})}),300);return l.a.createElement("div",{className:"general-notes"},l.a.createElement(ye.a,{title:l.a.createElement("div",{className:"card-header"},a.notes.general.title,l.a.createElement(N.a,{type:"primary",className:i?"green-button":"blue-button",icon:i?l.a.createElement(Oe.a,null):l.a.createElement(k.a,null),onClick:function(){i?(m.flush(),s(!1)):s(!0)}}))},i?l.a.createElement(ve,{className:"general-notes-edit",defaultValue:a.notes.general.text,autoSize:{minRows:10,maxRows:35},onChange:function(e){e.persist(),m(e.target.value)}}):l.a.createElement("p",{className:"note-body"},a.notes.general.text)))},Ne=t(464),ke=t(465),we=se.a.TextArea,xe=function(e){var a=e.state,t=e.dispatch,r=Object(n.useState)(0),c=Object(o.a)(r,2),i=c[0],s=c[1];Object(n.useEffect)((function(){0===a.notes.other.length&&m()}),[a]);var m=function(){var e=Object(le.a)(a.notes.other),n=Object(J.a)(Object(J.a)({},Object(w.cloneDeep)(M)),{},{id:e.length+1,title:"New Note",text:"Write here!"});e.push(n),t({type:"NOTES",payload:{general:!1,value:e}})},u=Object(w.debounce)((function(e,n){var l=Object(le.a)(a.notes.other),r=Object(w.findIndex)(l,["id",e]),c=Object(w.cloneDeep)(l[r]);c.title=n,l[r]=c,t({type:"NOTES",payload:{general:!1,value:l}})}),300),d=Object(w.debounce)((function(e,n){var l=Object(le.a)(a.notes.other),r=Object(w.findIndex)(l,["id",e]),c=Object(w.cloneDeep)(l[r]);c.text=n,l[r]=c,t({type:"NOTES",payload:{general:!1,value:l}})}),300),b=function(e){0!==i?(u.flush(),d.flush(),s(0)):s(e)};return l.a.createElement("div",{className:"other-notes"},l.a.createElement(ye.a,{title:l.a.createElement("div",{className:"card-header"},"Other Notes",l.a.createElement(N.a,{type:"primary",className:"green-button",icon:l.a.createElement(Ne.a,null),onClick:m}))},Object(w.map)(a.notes.other,(function(e){return l.a.createElement(ye.a,{className:"other-note-card",key:"other-note-".concat(e.id),title:l.a.createElement("div",{className:"card-header"},i===e.id?l.a.createElement(se.a,{className:"other-notes-edit-title",defaultValue:e.title,onPressEnter:function(){return b(e.id)},onChange:function(a){a.persist(),u(e.id,a.target.value)}}):e.title,l.a.createElement("div",{className:"card-header-actions"},l.a.createElement(N.a,{type:"primary",className:i===e.id?"green-button":"blue-button",icon:i===e.id?l.a.createElement(Oe.a,null):l.a.createElement(k.a,null),onClick:function(){return b(e.id)}}),l.a.createElement(N.a,{type:"primary",className:"red-button",icon:l.a.createElement(ke.a,null),onClick:function(){return function(e){t({type:"NOTES",payload:{general:!1,value:Object(w.without)(a.notes.other,e)}})}(e)}})))},i===e.id?l.a.createElement(we,{className:"other-notes-edit-text",defaultValue:e.text,autoSize:{minRows:4},onChange:function(a){a.persist(),d(e.id,a.target.value)}}):l.a.createElement("p",null,e.text))}))))},Ce=function(e){var a=e.state,t=e.dispatch;return l.a.createElement("div",{className:"notes-content"},l.a.createElement(je,{state:a,dispatch:t}),l.a.createElement(xe,{state:a,dispatch:t}))};var Se=function(){return l.a.createElement("div",null,"This is References Content")};var Ie=function(){return l.a.createElement("div",null,"This is Skills Content")};var De=function(){return l.a.createElement("div",null,"This is Spells Content")};var _e=function(){return l.a.createElement("div",null,"This is CharHeader")},Te=(t(183),t(92)),ze=t.n(Te),Le=t(466),Re=ze.a.confirm,Ae=function(e){var a=e.state,t=e.dispatch;return l.a.createElement(N.a,{type:"primary",className:"red-button",size:"small",onClick:function(){Object(w.isEqual)(a,V)?F.a.success("Created new character!"):Re({title:"Do you want to override the current character?",icon:l.a.createElement(Le.a,null),content:"You will lose any unsaved changes.",okText:"Override",onOk:function(){t({type:"NEW"}),F.a.success("Created new character!")}})}},"New")},He=(t(434),t(193)),Ue=t.n(He),We=me.a.Option,Pe=ze.a.confirm,Be=function(e){var a,t=e.state,r=e.dispatch,c=Object(n.useState)(!1),i=Object(o.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),b=d[0],p=d[1],E=Object(n.useState)(!1),h=Object(o.a)(E,2),g=h[0],f=h[1],y=function(){b?(g&&r({type:"LOAD",payload:Y(b)}),r({type:"LOAD",payload:JSON.parse(localStorage[b])})):F.a.error("No character selected!"),p("")};return l.a.createElement("div",null,l.a.createElement(N.a,{type:"primary",className:"blue-button",size:"small",onClick:function(){0===Object(w.keys)(localStorage).length?F.a.info("No characters to load."):m(!0)}},"Load"),l.a.createElement(ze.a,{title:"Load Character",visible:s,closable:!1,onOk:function(){m(!1),Object(w.isEqual)(t,V)?y():Pe({title:"Do you want to override the current character?",icon:l.a.createElement(Le.a,null),content:"You will lose any unsaved changes.",okText:"Override",onOk:function(){y()}})},okText:"Load",onCancel:function(){return m(!1)}},l.a.createElement("div",{className:"load-modal"},l.a.createElement(me.a,{placeholder:"Select a character",onChange:function(e){return p(e)}},Object(w.map)(Object(w.keys)(localStorage),(function(e){return l.a.createElement(We,{key:e,value:e},e)}))),l.a.createElement(Ue.a,{onChange:function(e){return f(e.target.checked)},disabled:!b||(a=b,!!JSON.parse(localStorage[a]).default)},"Make this character the default?"))))},Fe=function(e){var a=e.state;return l.a.createElement(N.a,{type:"primary",className:"green-button",size:"small",onClick:function(){return function(e){localStorage[e.character.name]=JSON.stringify(Object(w.cloneDeep)(e)),F.a.success("Saved character!")}(a)}},"Save")},Je=function(e,a){var t=Object(w.cloneDeep)(e);switch(a.type){case"NEW":t=Object(w.cloneDeep)(V);break;case"LOAD":t=Object(w.assignIn)(t,a.payload);break;case"CHARACTER":var n=Object(w.cloneDeep)(t.character);n=Object(w.assignIn)(n,a.payload),t=Object(w.assignIn)(t,{character:n});break;case"PORTRAIT":var l=Object(w.cloneDeep)(t.character);l=Object(w.assignIn)(l,{portrait:a.payload}),t=Object(w.assignIn)(t,{character:l});break;case"NOTES":if(a.payload.general){var r=Object(w.cloneDeep)(t.notes);r=Object(w.assignIn)(r,{general:Object(w.cloneDeep)(a.payload.value)}),t=Object(w.assignIn)(t,{notes:r})}else{var c=Object(w.cloneDeep)(t.notes);c=Object(w.assignIn)(c,{other:Object(le.a)(a.payload.value)}),t=Object(w.assignIn)(t,{notes:c})}break;default:t=e}return function(e){sessionStorage.lastChar=JSON.stringify(Object(w.cloneDeep)(e))}(t),t},Ge=u.a.Header,Me=u.a.Content,Ve=u.a.Sider,Xe=u.a.Footer,qe=function(){var e=Object(n.useState)("character"),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(window.innerHeight<800),i=Object(o.a)(c,2),m=i[0],O=i[1],v=Object(n.useReducer)(Je,V),j=Object(o.a)(v,2),N=j[0],k=j[1];Object(n.useEffect)((function(){Object(w.keys)(sessionStorage).includes("lastChar")?k({type:"LOAD",payload:JSON.parse(sessionStorage.lastChar)}):function(){var e=!1;return Object(w.forEach)(Object(w.keys)(localStorage),(function(a){if(JSON.parse(localStorage[a]).default)return e=!0,!1})),e}()&&k({type:"LOAD",payload:q()})}),[]);var x=l.a.createElement("div",null,"This is no Content");switch(t){case"character":x=l.a.createElement(pe,{state:N,dispatch:k});break;case"feats":x=l.a.createElement(he,null);break;case"skills":x=l.a.createElement(Ie,null);break;case"combat":x=l.a.createElement(Ee,null);break;case"spells":x=l.a.createElement(De,null);break;case"inventory":x=l.a.createElement(ge,null);break;case"notes":x=l.a.createElement(Ce,{state:N,dispatch:k});break;case"reference":x=l.a.createElement(Se,null)}return l.a.createElement("div",{className:"app"},l.a.createElement(u.a,null,l.a.createElement(Ve,{className:"app-sider",collapsible:!0,collapsed:m,onCollapse:function(e){return O(e)}},l.a.createElement("div",{className:"app-header"},l.a.createElement("img",{className:"logo",src:"/pf2-websheet/logo192.png",alt:"Website icon depicting a gold gear on a dark red square with rounded corners"}),!m&&l.a.createElement(Ge,null,"PF2 WebSheet")),l.a.createElement("div",{className:m?"button-group col":"button-group row"},l.a.createElement(Ae,{state:N,dispatch:k}),l.a.createElement(Be,{state:N,dispatch:k}),l.a.createElement(Fe,{state:N})),l.a.createElement(s.a,{theme:"dark",mode:"inline",onSelect:function(e){["new-action","load-action","save-action"].includes(e.key)||r(e.key)},defaultSelectedKeys:["character"]},l.a.createElement(s.a.Item,{key:"character",className:"red",icon:l.a.createElement(d.a,null)},"Character"),l.a.createElement(s.a.Item,{key:"feats",className:"volcano",icon:l.a.createElement(b.a,null)},"Feats"),l.a.createElement(s.a.Item,{key:"skills",className:"orange",icon:l.a.createElement(p.a,null)},"Skills"),l.a.createElement(s.a.Item,{key:"combat",className:"green",icon:l.a.createElement(E.a,null)},"Combat"),l.a.createElement(s.a.Item,{key:"spells",className:"blue",icon:l.a.createElement(h.a,null)},"Spells"),l.a.createElement(s.a.Item,{key:"inventory",className:"geekblue",icon:l.a.createElement(g.a,null)},"Inventory"),l.a.createElement(s.a.Item,{key:"notes",className:"purple",icon:l.a.createElement(f.a,null)},"Notes"),l.a.createElement(s.a.Item,{key:"reference",className:"magenta",icon:l.a.createElement(y.a,null)},"Reference"))),l.a.createElement(u.a,{className:"app-layout"},"character"!==t&&l.a.createElement(_e,null),l.a.createElement(Me,{className:"app-main"},x),l.a.createElement(Xe,{className:"app-footer"},"This web-app uses trademarks and/or copyrights owned by Paizo Inc., which are used under Paizo's Community Use Policy. We are expressly prohibited from charging you to use or access this content. This web-app is not published, endorsed, or specifically approved by Paizo Inc. For more information about Paizo's Community Use Policy, please visit\xa0",l.a.createElement("a",{href:"https://paizo.com/communityuse"},"paizo.com/communityuse"),". For more information about Paizo Inc. and Paizo products, please visit ",l.a.createElement("a",{href:"https://paizo.com/"},"paizo.com"),"."))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[194,1,2]]]);
//# sourceMappingURL=main.cbfe135d.chunk.js.map